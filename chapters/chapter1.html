<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第1章：量子力学基础与固体中的电子 - SEMI_PROJ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>SEMI_PROJ</h1>
                <p>半导体器件与制造技术交互式指南</p>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html" class="nav-link">首页</a></li>
                    <li><a href="../index.html#part1" class="nav-link">第一部分</a></li>
                    <li><a href="../index.html#part2" class="nav-link">第二部分</a></li>
                    <li><a href="../index.html#part3" class="nav-link">第三部分</a></li>
                    <li><a href="../index.html#part4" class="nav-link">第四部分</a></li>
                </ul>
            </nav>
            <div class="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>
    
    <!-- 左侧菜单目录 -->
    <aside class="sidebar">
        <button class="sidebar-toggle">
            <i class="fas fa-chevron-left"></i>
        </button>
        
        <div class="sidebar-content">
            <div class="sidebar-header">
                <h3>章节导航</h3>
                <button class="sidebar-hide-btn" title="隐藏侧边栏">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <nav class="chapter-nav">
                <a href="../index.html" class="chapter-nav-item">
                    <i class="fas fa-home"></i> 返回主页
                </a>
                
                <a href="preface.html" class="chapter-nav-item">
                    序言：硅基文明与信息时代
                </a>
                <a href="chapter1.html" class="chapter-nav-item active">
                    第1章：量子力学基础与固体中的电子
                </a>
                <a href="chapter2.html" class="chapter-nav-item">
                    第2章：半导体材料与晶体结构
                </a>
                <a href="chapter3.html" class="chapter-nav-item">
                    第3章：载流子统计与热平衡
                </a>
                <a href="chapter4.html" class="chapter-nav-item">
                    第4章：载流子输运现象
                </a>
                <a href="chapter5.html" class="chapter-nav-item">
                    第5章：非平衡载流子与复合动力学
                </a>
                <a href="chapter6.html" class="chapter-nav-item">
                    第6章：高场效应与量子输运
                </a>
                <a href="chapter7.html" class="chapter-nav-item">
                    第7章：PN结与金属-半导体接触
                </a>
                <a href="chapter8.html" class="chapter-nav-item">
                    第8章：MOS结构物理
                </a>
                <a href="chapter9.html" class="chapter-nav-item">
                    第9章：异质结与能带调控
                </a>
                <a href="chapter10.html" class="chapter-nav-item">
                    第10章：金属-氧化物-半导体场效应晶体管（MOSFET）
                </a>
                <a href="chapter11.html" class="chapter-nav-item">
                    第11章：双极结型晶体管（BJT）与特种器件
                </a>
                <a href="chapter12.html" class="chapter-nav-item">
                    第12章：光电子与量子效应器件
                </a>
                <a href="chapter13.html" class="chapter-nav-item">
                    第13章：晶圆制备与薄膜工程
                </a>
                <a href="chapter14.html" class="chapter-nav-item">
                    第14章：图形化与掺杂技术
                </a>
                <a href="chapter15.html" class="chapter-nav-item">
                    第15章：工艺集成与后端互连
                </a>
                <a href="chapter16.html" class="chapter-nav-item">
                    第16章：半导体材料与器件表征
                </a>
                <a href="chapter17.html" class="chapter-nav-item">
                    第17章：紧凑模型与电路仿真
                </a>
                <a href="chapter18.html" class="chapter-nav-item">
                    第18章：VLSI与SoC设计基础
                </a>
                <a href="chapter19.html" class="chapter-nav-item">
                    第19章：互连、功耗与可靠性
                </a>
                <a href="chapter20.html" class="chapter-nav-item">
                    第20章：超越传统硅基CMOS
                </a>
            </nav>
        </div>
    </aside>
    
    <main class="main-content">
        <div class="chapter-container">
            <div class="breadcrumb">
                <p><a href="../index.html">首页</a> &gt; <a href="../index.html#part1">第一部分：量子基石与材料特性</a> &gt; 第1章：量子力学基础与固体中的电子</p>
            </div>
            <div class="chapter-header">
                <h1>第1章：量子力学基础与固体中的电子</h1>
            </div>
            
            <div class="chapter-core">
                <h3>核心内容</h3>
                <p>阐述经典物理的局限，引入波粒二象性、薛定谔方程、波函数与概率诠释。讲解原子中电子的量子化能级，并核心阐述从孤立原子能级到晶体能带的过渡（N个原子靠近导致能级分裂形成能带）。引入布洛赫定理、E-k关系（色散关系）、直接与间接带隙概念。</p>
            </div>
            
            <div class="chapter-objectives">
                <h3>章节目标</h3>
                <ul>
                    <li>掌握量子力学描述微观粒子的基本语言；理解能带结构是晶体周期势场中电子行为的自然结果；能够定性描述从原子到晶体的能带形成过程。</li>
                </ul>
            </div>
            
            <div class="chapter-keywords">
                <h3>关键词</h3>
                <div class="keywords-list">
                    <span class="keyword">波粒二象性</span>
                    <span class="keyword">薛定谔方程</span>
                    <span class="keyword">波函数</span>
                    <span class="keyword">布洛赫定理</span>
                    <span class="keyword">能带</span>
                    <span class="keyword">价带</span>
                    <span class="keyword">导带</span>
                    <span class="keyword">禁带宽度（Eg）</span>
                    <span class="keyword">直接/间接带隙</span>
                    <span class="keyword">E-k关系</span>
                </div>
            </div>

            <div class="content">
                <section class="intro">
                    <p>经典物理学在描述宏观世界时表现出色，但当研究对象缩小到原子、电子等微观尺度时，经典理论遇到了无法解释的矛盾。黑体辐射、光电效应、原子光谱等实验现象都需要全新的理论框架来解释，这促使了量子力学的诞生。</p>
                    
                    <p>量子力学的发展彻底改变了我们对微观世界的理解，为半导体物理奠定了坚实的理论基础。本章将从经典物理的局限出发，逐步引入量子力学的核心概念，最终建立描述固体中电子行为的能带理论。</p>
                </section>

                <section>
                    <h2>1.1 经典物理的局限与量子力学的诞生</h2>
                    
                    <h3>1.1.1 经典物理的困境</h3>
                    <p>19世纪末，经典物理学在解释以下实验现象时遇到了严重困难：</p>
                    <ul>
                        <li><strong>黑体辐射</strong>：经典理论预言黑体在高频区会辐射无限能量（紫外灾难），与实验结果不符</li>
                        <li><strong>光电效应</strong>：经典理论无法解释光电子的存在阈值和瞬时发射现象</li>
                        <li><strong>原子光谱</strong>：经典理论无法解释原子光谱的离散性</li>
                        <li><strong>康普顿散射</strong>：经典理论无法解释X射线散射后的波长变化</li>
                    </ul>
                    
                    <h3>1.1.2 量子力学的诞生</h3>
                    <p>为了解释这些实验现象，一系列革命性的量子理论应运而生：</p>
                    
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-marker">1900</div>
                            <div class="timeline-content">
                                <h4>普朗克黑体辐射公式</h4>
                                <p>普朗克提出能量量子化假设，成功解释黑体辐射谱</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-marker">1905</div>
                            <div class="timeline-content">
                                <h4>爱因斯坦光电效应理论</h4>
                                <p>爱因斯坦引入光子概念，解释光电效应</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-marker">1913</div>
                            <div class="timeline-content">
                                <h4>玻尔原子模型</h4>
                                <p>玻尔提出量子化轨道模型，解释氢原子光谱</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-marker">1924</div>
                            <div class="timeline-content">
                                <h4>德布罗意波粒二象性</h4>
                                <p>德布罗意提出物质波假设，认为实物粒子也具有波动性</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-marker">1926</div>
                            <div class="timeline-content">
                                <h4>薛定谔方程</h4>
                                <p>薛定谔提出波动方程，奠定量子力学的数学基础</p>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-marker">1927</div>
                            <div class="timeline-content">
                                <h4>海森堡不确定性原理</h4>
                                <p>海森堡提出不确定性原理，揭示微观世界的基本限制</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section>
                    <h2>1.2 量子力学基本概念</h2>
                    
                    <h3>1.2.1 波粒二象性</h3>
                    <p>波粒二象性是量子力学的核心概念，它指出微观粒子同时具有波动性和粒子性：</p>
                    
                    <div class="interactive-container">
                        <h3>波粒二象性演示</h3>
                        <div class="controls">
                            <div class="control-group">
                                <label for="particle-type">粒子类型</label>
                                <select id="particle-type">
                                    <option value="electron">电子</option>
                                    <option value="photon">光子</option>
                                    <option value="neutron">中子</option>
                                </select>
                            </div>
                            <div class="control-group">
                                <label for="particle-energy">能量 (eV)</label>
                                <input type="range" id="particle-energy" min="1" max="100" step="1" value="10">
                                <span id="energy-value">10 eV</span>
                            </div>
                        </div>
                        <div class="visualization-area">
                            <div class="chart-container">
                                <canvas id="wave-particle-chart"></canvas>
                            </div>
                            <div class="results-panel">
                                <div class="results-grid">
                                    <div class="result-item">
                                        <div class="result-value" id="wavelength-value">1.24 nm</div>
                                        <div class="result-label">德布罗意波长</div>
                                    </div>
                                    <div class="result-item">
                                        <div class="result-value" id="momentum-value">5.34×10⁻²⁵ kg·m/s</div>
                                        <div class="result-label">动量</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>1.2.2 薛定谔方程与波函数</h3>
                    <p>薛定谔方程是描述微观粒子运动的基本方程：</p>
                    
                    <div class="formula-box">
                        <h4>薛定谔方程（含时）</h4>
                        <p>iħ∂ψ(r,t)/∂t = Hψ(r,t)</p>
                        <p>其中：</p>
                        <ul>
                            <li>i 是虚数单位</li>
                            <li>ħ = h/(2π) 是约化普朗克常数</li>
                            <li>ψ(r,t) 是波函数</li>
                            <li>H 是哈密顿算符，H = -ħ²/(2m)∇² + V(r)</li>
                            <li>V(r) 是势场</li>
                        </ul>
                    </div>
                    
                    <p>波函数的物理意义：|ψ(r,t)|² 表示在t时刻，在位置r处找到粒子的概率密度。</p>
                    
                    <h3>1.2.3 概率诠释与不确定性原理</h3>
                    <p>量子力学采用概率诠释：我们无法精确预测单个粒子的行为，只能预测大量粒子的统计行为。</p>
                    
                    <p>海森堡不确定性原理指出，某些物理量对（如位置和动量）不能同时被精确测量：</p>
                    
                    <div class="formula-box">
                        <h4>位置-动量不确定性关系</h4>
                        <p>Δx·Δp ≥ ħ/2</p>
                        <p>其中Δx是位置不确定度，Δp是动量不确定度</p>
                    </div>
                </section>

                <section>
                    <h2>1.3 原子中的电子</h2>
                    
                    <h3>1.3.1 氢原子与量子化能级</h3>
                    <p>氢原子是最简单的原子系统，其电子能级由玻尔模型描述：</p>
                    
                    <div class="formula-box">
                        <h4>氢原子能级公式</h4>
                        <p>Eₙ = -13.6 eV / n²</p>
                        <p>其中n = 1, 2, 3, ... 是主量子数</p>
                    </div>
                    
                    <div class="interactive-container">
                        <h3>氢原子能级可视化</h3>
                        <div class="visualization-area">
                            <div class="chart-container">
                                <canvas id="hydrogen-energy-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <h3>1.3.2 电子组态与泡利不相容原理</h3>
                    <p>多电子原子中的电子分布遵循：</p>
                    <ul>
                        <li><strong>泡利不相容原理</strong>：每个量子态最多只能容纳一个电子</li>
                        <li><strong>洪特规则</strong>：电子优先占据不同的简并轨道，且自旋平行</li>
                        <li><strong>能量最低原理</strong>：电子优先占据能量最低的轨道</li>
                    </ul>
                    
                    <p>电子的量子态由四个量子数描述：</p>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>量子数</th>
                                <th>符号</th>
                                <th>取值范围</th>
                                <th>物理意义</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>主量子数</td>
                                <td>n</td>
                                <td>1, 2, 3, ...</td>
                                <td>决定电子的主要能量</td>
                            </tr>
                            <tr>
                                <td>角量子数</td>
                                <td>l</td>
                                <td>0, 1, 2, ..., n-1</td>
                                <td>决定轨道角动量和轨道形状</td>
                            </tr>
                            <tr>
                                <td>磁量子数</td>
                                <td>mₗ</td>
                                <td>-l, ..., 0, ..., l</td>
                                <td>决定轨道角动量的空间取向</td>
                            </tr>
                            <tr>
                                <td>自旋量子数</td>
                                <td>mₛ</td>
                                <td>±1/2</td>
                                <td>决定电子自旋的空间取向</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section>
                    <h2>1.4 从原子到晶体：能带的形成</h2>
                    
                    <h3>1.4.1 原子能级分裂</h3>
                    <p>当N个原子相互靠近时，原子间的相互作用导致原本简并的能级分裂成N个间隔很小的能级，形成能带：</p>
                    
                    <div class="interactive-container">
                        <h3>能级分裂演示</h3>
                        <div class="controls">
                            <div class="control-group">
                                <label for="atom-count">原子数量 (N)</label>
                                <input type="range" id="atom-count" min="2" max="1000" step="1" value="10">
                                <span id="atom-count-value">10</span>
                            </div>
                            <div class="control-group">
                                <label for="atomic-spacing">原子间距 (Å)</label>
                                <input type="range" id="atomic-spacing" min="1" max="10" step="0.1" value="3">
                                <span id="spacing-value">3 Å</span>
                            </div>
                        </div>
                        <div class="visualization-area">
                            <div class="chart-container">
                                <canvas id="energy-splitting-chart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <h3>1.4.2 布洛赫定理</h3>
                    <p>布洛赫定理描述了晶体周期势场中电子的波函数形式：</p>
                    
                    <div class="formula-box">
                        <h4>布洛赫波函数</h4>
                        <p>ψₖ(r) = uₖ(r)e^(iₖ·r)</p>
                        <p>其中：</p>
                        <ul>
                            <li>uₖ(r) 是具有晶体周期的函数，uₖ(r + Rₙ) = uₖ(r)</li>
                            <li>k 是波矢</li>
                            <li>Rₙ 是晶格矢量</li>
                        </ul>
                    </div>
                    
                    <p>布洛赫定理表明，晶体中的电子波函数是一个调制的平面波，调制函数具有晶格周期性。</p>
                    
                    <h3>1.4.3 E-k关系与能带结构</h3>
                    <p>E-k关系（色散关系）描述了电子能量与波矢的关系，它决定了晶体的能带结构：</p>
                    
                    <div class="interactive-container">
                        <h3>E-k关系演示</h3>
                        <div class="controls">
                            <div class="control-group">
                                <label for="material-type">材料类型</label>
                                <select id="material-type">
                                    <option value="si">硅 (Si)</option>
                                    <option value="gaas">砷化镓 (GaAs)</option>
                                    <option value="ge">锗 (Ge)</option>
                                </select>
                            </div>
                        </div>
                        <div class="visualization-area">
                            <div class="chart-container">
                                <canvas id="ek-relation-chart"></canvas>
                            </div>
                            <div class="results-panel">
                                <div class="results-grid">
                                    <div class="result-item">
                                        <div class="result-value" id="bandgap-value">1.12 eV</div>
                                        <div class="result-label">禁带宽度</div>
                                    </div>
                                    <div class="result-item">
                                        <div class="result-value" id="band-type">间接带隙</div>
                                        <div class="result-label">带隙类型</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>1.4.4 直接带隙与间接带隙半导体</h3>
                    <p>根据E-k关系的不同，半导体可分为：</p>
                    
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>特性</th>
                                <th>直接带隙半导体</th>
                                <th>间接带隙半导体</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>能带极值位置</td>
                                <td>导带底和价带顶在k空间同一位置</td>
                                <td>导带底和价带顶在k空间不同位置</td>
                            </tr>
                            <tr>
                                <td>发光特性</td>
                                <td>发光效率高，适合光电器件</td>
                                <td>发光效率低，不适合光电器件</td>
                            </tr>
                            <tr>
                                <td>载流子跃迁</td>
                                <td>仅需光子参与</td>
                                <td>需光子和声子共同参与</td>
                            </tr>
                            <tr>
                                <td>典型材料</td>
                                <td>GaAs, InP, GaN</td>
                                <td>Si, Ge, SiC</td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <section class="chapter-summary">
                    <h2>本章小结</h2>
                    <p>本章介绍了量子力学的基本概念及其在固体物理中的应用，核心内容包括：</p>
                    
                    <ul>
                        <li>经典物理在微观领域的局限，以及量子力学的诞生背景</li>
                        <li>波粒二象性、薛定谔方程、波函数等量子力学基本概念</li>
                        <li>原子中电子的量子化能级和电子组态</li>
                        <li>从孤立原子能级到晶体能带的形成过程</li>
                        <li>布洛赫定理及其对晶体中电子行为的描述</li>
                        <li>E-k关系与能带结构，以及直接/间接带隙半导体的区别</li>
                    </ul>
                    
                    <p>这些概念为理解半导体物理和器件工作原理奠定了基础。从孤立原子到晶体的能带形成是半导体物理的核心，它解释了为什么有些材料是导体，有些是绝缘体，而有些是半导体。</p>
                </section>

                <section class="next-chapter">
                    <h2>下一章预告</h2>
                    <p>第2章将深入探讨半导体材料与晶体结构，介绍元素半导体与化合物半导体，详解金刚石结构、闪锌矿结构等常见晶体结构，以及晶向、晶面的表示方法。</p>
                    <a href="chapter2.html" class="btn btn-primary">前往第2章</a>
                </section>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2023 SEMI_PROJ. 半导体器件与制造技术交互式指南</p>
        </div>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../js/main.js"></script>
    <script>
        // 波粒二象性演示图表
        let waveParticleChart;
        let hydrogenEnergyChart;
        let energySplittingChart;
        let ekRelationChart;
        
        // 初始化所有图表
        function initCharts() {
            initWaveParticleChart();
            initHydrogenEnergyChart();
            initEnergySplittingChart();
            initEkRelationChart();
            updateWaveParticleChart();
            updateEnergySplittingChart();
            updateEkRelationChart();
        }
        
        // 波粒二象性图表
        function initWaveParticleChart() {
            const ctx = document.getElementById('wave-particle-chart').getContext('2d');
            waveParticleChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 100}, (_, i) => i * 0.1),
                    datasets: [{
                        label: '波函数振幅',
                        data: Array.from({length: 100}, (_, i) => Math.sin(i * 0.1) * Math.exp(-Math.pow((i - 50) * 0.05, 2))),
                        borderColor: '#3498db',
                        backgroundColor: 'rgba(52, 152, 219, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: '位置 (nm)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: '振幅'
                            }
                        }
                    }
                }
            });
        }
        
        // 氢原子能级图表
        function initHydrogenEnergyChart() {
            const ctx = document.getElementById('hydrogen-energy-chart').getContext('2d');
            hydrogenEnergyChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['n=1', 'n=2', 'n=3', 'n=4', 'n=5', 'n=∞'],
                    datasets: [{
                        label: '能级 (eV)',
                        data: [-13.6, -3.4, -1.51, -0.85, -0.54, 0],
                        backgroundColor: '#e74c3c'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: '能量 (eV)'
                            }
                        }
                    }
                }
            });
        }
        
        // 能级分裂图表
        function initEnergySplittingChart() {
            const ctx = document.getElementById('energy-splitting-chart').getContext('2d');
            energySplittingChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: '分裂能级',
                        data: Array.from({length: 10}, (_, i) => ({x: Math.random() * 0.1, y: -13.6 + Math.random() * 0.1})),
                        backgroundColor: '#2ecc71'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: '波矢 (a.u.)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: '能量 (eV)'
                            }
                        }
                    }
                }
            });
        }
        
        // E-k关系图表
        function initEkRelationChart() {
            const ctx = document.getElementById('ek-relation-chart').getContext('2d');
            ekRelationChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 100}, (_, i) => (i - 50) * 0.1),
                    datasets: [{
                        label: '导带',
                        data: Array.from({length: 100}, (_, i) => {
                            const k = (i - 50) * 0.1;
                            return 1.12 + 0.2 * k * k;
                        }),
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        fill: true
                    }, {
                        label: '价带',
                        data: Array.from({length: 100}, (_, i) => {
                            const k = (i - 50) * 0.1;
                            return -0.2 * k * k;
                        }),
                        borderColor: '#2ecc71',
                        backgroundColor: 'rgba(46, 204, 113, 0.1)',
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: '波矢 (a.u.)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: '能量 (eV)'
                            }
                        }
                    }
                }
            });
        }
        
        // 更新波粒二象性图表
        function updateWaveParticleChart() {
            const energy = parseFloat(document.getElementById('energy-value').textContent);
            const wavelength = (1240 / energy).toFixed(2);
            const momentum = (6.626e-34 / (wavelength * 1e-9)).toExponential(2);
            
            document.getElementById('wavelength-value').textContent = wavelength + ' nm';
            document.getElementById('momentum-value').textContent = momentum + ' kg·m/s';
        }
        
        // 更新能级分裂图表
        function updateEnergySplittingChart() {
            const atomCount = parseInt(document.getElementById('atom-count-value').textContent);
            const spacing = parseFloat(document.getElementById('spacing-value'));
            
            const data = Array.from({length: atomCount}, (_, i) => ({
                x: Math.random() * 0.5,
                y: -13.6 + Math.random() * (10 / spacing)
            }));
            
            energySplittingChart.data.datasets[0].data = data;
            energySplittingChart.update();
        }
        
        // 更新E-k关系图表
        function updateEkRelationChart() {
            const material = document.getElementById('material-type').value;
            let bandgap, direct, cbOffset, vbOffset;
            
            switch(material) {
                case 'si':
                    bandgap = 1.12;
                    direct = false;
                    cbOffset = 0.2;
                    vbOffset = 0.2;
                    break;
                case 'gaas':
                    bandgap = 1.43;
                    direct = true;
                    cbOffset = 0.15;
                    vbOffset = 0.15;
                    break;
                case 'ge':
                    bandgap = 0.66;
                    direct = false;
                    cbOffset = 0.18;
                    vbOffset = 0.18;
                    break;
            }
            
            document.getElementById('bandgap-value').textContent = bandgap + ' eV';
            document.getElementById('band-type').textContent = direct ? '直接带隙' : '间接带隙';
            
            const labels = Array.from({length: 100}, (_, i) => (i - 50) * 0.1);
            const cbData = labels.map(k => {
                if (direct) {
                    return bandgap + cbOffset * k * k;
                } else {
                    return bandgap + cbOffset * Math.pow(Math.abs(k) - 2, 2) + 0.1;
                }
            });
            
            const vbData = labels.map(k => {
                if (direct) {
                    return -vbOffset * k * k;
                } else {
                    return -vbOffset * Math.pow(Math.abs(k) + 1, 2);
                }
            });
            
            ekRelationChart.data.labels = labels;
            ekRelationChart.data.datasets[0].data = cbData;
            ekRelationChart.data.datasets[1].data = vbData;
            ekRelationChart.update();
        }
        
        // 事件监听器
        document.getElementById('particle-energy').addEventListener('input', function() {
            document.getElementById('energy-value').textContent = this.value + ' eV';
            updateWaveParticleChart();
        });
        
        document.getElementById('atom-count').addEventListener('input', function() {
            document.getElementById('atom-count-value').textContent = this.value;
            updateEnergySplittingChart();
        });
        
        document.getElementById('atomic-spacing').addEventListener('input', function() {
            document.getElementById('spacing-value').textContent = this.value + ' Å';
            updateEnergySplittingChart();
        });
        
        document.getElementById('material-type').addEventListener('change', updateEkRelationChart);
        
        // 初始化
        document.addEventListener('DOMContentLoaded', initCharts);
    </script>
</body>
</html>