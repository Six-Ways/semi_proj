<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第8章：MOS结构物理 - SEMI_PROJ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>SEMI_PROJ</h1>
                <p>半导体器件与制造技术交互式指南</p>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html" class="nav-link">首页</a></li>
                    <li><a href="../index.html#part1" class="nav-link">第一部分</a></li>
                    <li><a href="../index.html#part2" class="nav-link">第二部分</a></li>
                    <li><a href="../index.html#part3" class="nav-link">第三部分</a></li>
                    <li><a href="../index.html#part4" class="nav-link">第四部分</a></li>
                </ul>
            </nav>
            <div class="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>
    
    <!-- 左侧菜单目录 -->
    <aside class="sidebar">
        <button class="sidebar-toggle">
            <i class="fas fa-chevron-left"></i>
        </button>
        
        <div class="sidebar-content">
            <div class="sidebar-header">
                <h3>章节导航</h3>
                <button class="sidebar-hide-btn" title="隐藏侧边栏">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <nav class="chapter-nav">
                <a href="../index.html" class="chapter-nav-item">
                    <i class="fas fa-home"></i> 返回主页
                </a>
                
                <a href="preface.html" class="chapter-nav-item">
                    序言：硅基文明与信息时代
                </a>
                <a href="chapter1.html" class="chapter-nav-item">
                    第1章：量子力学基础与固体中的电子
                </a>
                <a href="chapter2.html" class="chapter-nav-item">
                    第2章：半导体材料与晶体结构
                </a>
                <a href="chapter3.html" class="chapter-nav-item">
                    第3章：载流子统计与热平衡
                </a>
                <a href="chapter4.html" class="chapter-nav-item">
                    第4章：载流子输运现象
                </a>
                <a href="chapter5.html" class="chapter-nav-item">
                    第5章：非平衡载流子与复合动力学
                </a>
                <a href="chapter6.html" class="chapter-nav-item">
                    第6章：高场效应与量子输运
                </a>
                <a href="chapter7.html" class="chapter-nav-item">
                    第7章：PN结与金属-半导体接触
                </a>
                <a href="chapter8.html" class="chapter-nav-item active">
                    第8章：MOS结构物理
                </a>
                <a href="chapter9.html" class="chapter-nav-item">
                    第9章：异质结与能带调控
                </a>
                <a href="chapter10.html" class="chapter-nav-item">
                    第10章：金属-氧化物-半导体场效应晶体管（MOSFET）
                </a>
                <a href="chapter11.html" class="chapter-nav-item">
                    第11章：双极结型晶体管（BJT）与特种器件
                </a>
                <a href="chapter12.html" class="chapter-nav-item">
                    第12章：光电子与量子效应器件
                </a>
                <a href="chapter13.html" class="chapter-nav-item">
                    第13章：晶圆制备与薄膜工程
                </a>
                <a href="chapter14.html" class="chapter-nav-item">
                    第14章：图形化与掺杂技术
                </a>
                <a href="chapter15.html" class="chapter-nav-item">
                    第15章：工艺集成与后端互连
                </a>
                <a href="chapter16.html" class="chapter-nav-item">
                    第16章：半导体材料与器件表征
                </a>
                <a href="chapter17.html" class="chapter-nav-item">
                    第17章：紧凑模型与电路仿真
                </a>
                <a href="chapter18.html" class="chapter-nav-item">
                    第18章：VLSI与SoC设计基础
                </a>
                <a href="chapter19.html" class="chapter-nav-item">
                    第19章：互连、功耗与可靠性
                </a>
                <a href="chapter20.html" class="chapter-nav-item">
                    第20章：超越传统硅基CMOS
                </a>
            </nav>
        </div>
    </aside>
    
    <main class="main-content">
        <div class="chapter-container">
            <div class="breadcrumb">
                <p><a href="../index.html">首页</a> &gt; 第8章：MOS结构物理</p>
            </div>
            <div class="chapter-header">
                <h1>第8章：MOS结构物理</h1>
            </div>
            
            <div class="chapter-core">
                <h3>核心内容</h3>
                <p>详解理想MOS电容的能带图随栅压的变化，定义积累、耗尽、反型三种工作状态。明确平带电压与阈值电压的概念。分析实际SiO₂-Si系统的界面态、固定电荷等非理想效应。讲解MOS电容的C-V特性及其测量方法。</p>
            </div>
            
            <div class="chapter-objectives">
                <h3>章节目标</h3>
                <ul>
                    <li>深刻理解MOS结构作为MOSFET核心的物理基础</li>
                    <li>掌握通过C-V特性提取器件参数的方法</li>
                    <li>能够分析栅介质质量对器件性能的影响</li>
                    <li>理解MOS结构在不同偏置条件下的能带变化</li>
                </ul>
            </div>
            
            <div class="chapter-keywords">
                <h3>关键词</h3>
                <div class="keywords-list">
                    <span class="keyword">MOS电容</span>
                    <span class="keyword">积累</span>
                    <span class="keyword">耗尽</span>
                    <span class="keyword">反型</span>
                    <span class="keyword">平带电压（V_FB）</span>
                    <span class="keyword">阈值电压（V_th）</span>
                    <span class="keyword">C-V特性</span>
                    <span class="keyword">界面态</span>
                    <span class="keyword">固定电荷</span>
                </div>
            </div>

            <div class="content">
                <section class="intro">
                    <p>MOS（金属-氧化物-半导体）结构是现代半导体器件的核心，尤其是MOSFET（金属-氧化物-半导体场效应晶体管）的基础。理解MOS结构的物理特性对于掌握MOSFET的工作原理至关重要。本章将详细介绍MOS结构的基本概念、能带图、工作状态以及电容-电压（C-V）特性。</p>
                </section>

                <section class="mos-structure-basics">
                    <h2>8.1 MOS结构的基本概念</h2>
                    <p>MOS结构由金属栅电极、氧化物绝缘层和半导体衬底三层结构组成。</p>
                    
                    <div class="concept-box">
                        <h3>MOS结构的组成</h3>
                        <ul>
                            <li><strong>金属栅电极</strong>：传统上使用铝，现代工艺中多使用多晶硅或高k金属栅</li>
                            <li><strong>氧化物绝缘层</strong>：通常是SiO₂，厚度从早期的几百埃到现代的几埃</li>
                            <li><strong>半导体衬底</strong>：通常是硅，可分为P型和N型</li>
                        </ul>
                    </div>

                    <div class="diagram-container">
                        <h3>MOS结构示意图</h3>
                        <div class="mos-diagram">
                            <div class="mos-layer metal">
                                <div class="layer-label">金属栅电极</div>
                            </div>
                            <div class="mos-layer oxide">
                                <div class="layer-label">氧化物绝缘层 (SiO₂)</div>
                            </div>
                            <div class="mos-layer semiconductor">
                                <div class="layer-label">半导体衬底 (Si)</div>
                            </div>
                        </div>
                    </div>

                    <div class="concept-box">
                        <h3>功函数与接触电势</h3>
                        <p>当金属与半导体直接接触时，由于功函数不同会产生接触电势差。在MOS结构中，金属和半导体被氧化物绝缘层隔开，这种接触电势差会影响MOS结构的能带图和电学特性。</p>
                        
                        <div class="formula-box">
                            <h4>接触电势差公式</h4>
                            <div class="formula">
                                <p>V_M - V_S = (φ_M - φ_S) / q</p>
                            </div>
                            <div class="formula-explanation">
                                <p>其中：</p>
                                <ul>
                                    <li>φ_M：金属功函数</li>
                                    <li>φ_S：半导体功函数</li>
                                    <li>q：电子电荷量</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="mos-energy-bands">
                    <h2>8.2 MOS结构的能带图</h2>
                    <p>MOS结构的能带图随栅电压的变化而变化，反映了半导体表面的电荷状态。</p>
                    
                    <div class="concept-box">
                        <h3>平带状态</h3>
                        <p>当栅电压为平带电压V_FB时，半导体表面的能带是平直的，没有弯曲。此时，金属与半导体之间的接触电势差正好被栅电压抵消。</p>
                        
                        <div class="formula-box">
                            <h4>平带电压公式</h4>
                            <div class="formula">
                                <p>V_FB = φ_M - φ_S</p>
                            </div>
                            <div class="formula-explanation">
                                <p>其中：</p>
                                <ul>
                                    <li>φ_M：金属功函数</li>
                                    <li>φ_S：半导体功函数</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="interactive-container">
                        <h3>MOS能带图交互演示</h3>
                        <div class="simulator-container">
                            <div class="controls">
                                <div class="control-group">
                                    <label for="gate-voltage">栅电压 (V)</label>
                                    <input type="range" id="gate-voltage" min="-5" max="5" step="0.1" value="0">
                                    <span id="gate-voltage-value">0.0 V</span>
                                </div>
                                <div class="control-group">
                                    <label for="substrate-type">衬底类型</label>
                                    <select id="substrate-type">
                                        <option value="p-type">P型</option>
                                        <option value="n-type">N型</option>
                                    </select>
                                </div>
                            </div>
                            <div class="band-diagram-container">
                                <div id="mos-band-diagram" class="mos-band-diagram">
                                    <!-- 能带图将通过JavaScript动态生成 -->
                                </div>
                            </div>
                            <div class="state-indicator" id="state-indicator">
                                当前状态：平带状态
                            </div>
                        </div>
                    </div>
                </section>

                <section class="mos-working-states">
                    <h2>8.3 MOS结构的三种工作状态</h2>
                    <p>根据栅电压的不同，MOS结构的半导体表面会呈现三种不同的工作状态：积累、耗尽和反型。</p>
                    
                    <div class="state-grid">
                        <div class="state-card">
                            <h3>1. 积累状态</h3>
                            <div class="state-description">
                                <p><strong>偏置条件</strong>：对于P型衬底，施加负栅电压</p>
                                <p><strong>物理图像</strong>：负栅电压将空穴吸引到半导体表面，形成空穴积累层</p>
                                <p><strong>能带特征</strong>：半导体表面能带向下弯曲</p>
                            </div>
                        </div>
                        
                        <div class="state-card">
                            <h3>2. 耗尽状态</h3>
                            <div class="state-description">
                                <p><strong>偏置条件</strong>：对于P型衬底，施加较小的正栅电压</p>
                                <p><strong>物理图像</strong>：正栅电压将空穴排斥，形成耗尽区，暴露受主离子</p>
                                <p><strong>能带特征</strong>：半导体表面能带向上弯曲，费米能级处于禁带中央</p>
                            </div>
                        </div>
                        
                        <div class="state-card">
                            <h3>3. 反型状态</h3>
                            <div class="state-description">
                                <p><strong>偏置条件</strong>：对于P型衬底，施加较大的正栅电压</p>
                                <p><strong>物理图像</strong>：强正栅电压将电子吸引到表面，形成电子反型层</p>
                                <p><strong>能带特征</strong>：半导体表面能带强烈向上弯曲，表面费米能级靠近导带底</p>
                            </div>
                        </div>
                    </div>

                    <div class="concept-box">
                        <h3>阈值电压的概念</h3>
                        <p>阈值电压V_th是MOS结构从耗尽状态转变为反型状态时的栅电压。对于P型衬底，当表面电子浓度等于体内空穴浓度时，称为强反型，此时的栅电压即为阈值电压。</p>
                        
                        <div class="formula-box">
                            <h4>阈值电压公式</h4>
                            <div class="formula">
                                <p>V_th = V_FB + 2φ_F + 
frac{Q_{dep}}{C_{ox}}</p>
                            </div>
                            <div class="formula-explanation">
                                <p>其中：</p>
                                <ul>
                                    <li>V_FB：平带电压</li>
                                    <li>2φ_F：两倍费米势</li>
                                    <li>Q_{dep}：耗尽区电荷</li>
                                    <li>C_{ox}：氧化物电容</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="mos-cv-characteristics">
                    <h2>8.4 MOS电容的C-V特性</h2>
                    <p>MOS电容的C-V特性是分析MOS结构的重要手段，通过测量电容随栅电压的变化，可以获得关于MOS结构的许多重要信息。</p>
                    
                    <div class="concept-box">
                        <h3>理想MOS电容的C-V曲线</h3>
                        <p>对于理想MOS结构，其C-V曲线呈现典型的"U"形或"钟"形，反映了不同工作状态下的电容变化。</p>
                        
                        <ul>
                            <li><strong>积累区</strong>：电容接近氧化物电容C_ox，因为表面电荷紧贴氧化物-半导体界面</li>
                            <li><strong>耗尽区</strong>：电容随栅电压变化，因为耗尽区宽度随电压增加而增大</li>
                            <li><strong>反型区</strong>：对于低频信号，电容接近C_ox；对于高频信号，电容达到最小值后保持稳定</li>
                        </ul>
                    </div>

                    <div class="interactive-container">
                        <h3>MOS C-V特性模拟器</h3>
                        <div class="simulator-container">
                            <div class="controls">
                                <div class="control-group">
                                    <label for="cv-frequency">信号频率</label>
                                    <select id="cv-frequency">
                                        <option value="low">低频 (1 kHz)</option>
                                        <option value="high">高频 (1 MHz)</option>
                                    </select>
                                </div>
                                <div class="control-group">
                                    <label for="ox-thickness">氧化物厚度 (nm)</label>
                                    <input type="range" id="ox-thickness" min="1" max="20" step="0.5" value="5">
                                    <span id="ox-thickness-value">5.0 nm</span>
                                </div>
                                <div class="control-group">
                                    <label for="substrate-doping">衬底掺杂浓度 (cm⁻³)</label>
                                    <input type="range" id="substrate-doping" min="1e14" max="1e18" step="1e14" value="1e16">
                                    <span id="substrate-doping-value">1.0e+16 cm⁻³</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="cv-chart"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="concept-box">
                        <h3>高频C-V与低频C-V的区别</h3>
                        <p>高频和低频C-V曲线的主要区别在于反型区的电容值：</p>
                        
                        <ul>
                            <li><strong>低频C-V</strong>：反型层电子可以跟随信号变化，电容接近C_ox</li>
                            <li><strong>高频C-V</strong>：反型层电子无法跟随信号变化，电容由耗尽区宽度决定，保持最小值</li>
                        </ul>
                    </div>
                </section>

                <section class="mos-non-ideal-effects">
                    <h2>8.5 MOS结构的非理想效应</h2>
                    <p>实际MOS结构与理想情况存在偏差，主要由氧化物-半导体界面的缺陷和电荷引起。</p>
                    
                    <div class="effect-grid">
                        <div class="effect-card">
                            <h3>1. 固定电荷</h3>
                            <p>主要是SiO₂中的正电荷，位于氧化物-半导体界面附近，不随栅电压变化</p>
                            <p><strong>影响</strong>：使平带电压偏移，阈值电压变化</p>
                        </div>
                        
                        <div class="effect-card">
                            <h3>2. 界面态</h3>
                            <p>氧化物-半导体界面处的电子能级，可与半导体交换电荷</p>
                            <p><strong>影响</strong>：增加漏电流，影响阈值电压稳定性</p>
                        </div>
                        
                        <div class="effect-card">
                            <h3>3. 可动离子电荷</h3>
                            <p>主要是Na⁺等碱金属离子，在高温下可在氧化物中移动</p>
                            <p><strong>影响</strong>：导致阈值电压漂移，器件可靠性下降</p>
                        </div>
                        
                        <div class="effect-card">
                            <h3>4. 氧化物陷阱电荷</h3>
                            <p>氧化物中的电子陷阱，可捕获和释放电子</p>
                            <p><strong>影响</strong>：引起阈值电压不稳定，影响器件寿命</p>
                        </div>
                    </div>

                    <div class="interactive-container">
                        <h3>非理想效应对C-V曲线的影响</h3>
                        <div class="simulator-container">
                            <div class="controls">
                                <div class="control-group">
                                    <label for="fixed-charge">固定电荷密度 (cm⁻²)</label>
                                    <input type="range" id="fixed-charge" min="0" max="1e12" step="1e10" value="0">
                                    <span id="fixed-charge-value">0 cm⁻²</span>
                                </div>
                                <div class="control-group">
                                    <label for="interface-states">界面态密度 (cm⁻²·eV⁻¹)</label>
                                    <input type="range" id="interface-states" min="0" max="1e12" step="1e10" value="0">
                                    <span id="interface-states-value">0 cm⁻²·eV⁻¹</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="non-ideal-cv-chart"></canvas>
                            </div>
                            <div class="cv-shift-indicator" id="cv-shift-indicator">
                                C-V曲线偏移：0 V
                            </div>
                        </div>
                    </div>
                </section>

                <section class="mos-parameter-extraction">
                    <h2>8.6 从C-V曲线提取MOS参数</h2>
                    <p>MOS C-V曲线包含了丰富的信息，可以从中提取出许多重要的MOS结构参数。</p>
                    
                    <div class="extraction-grid">
                        <div class="extraction-card">
                            <h3>1. 氧化物厚度</h3>
                            <p>通过测量积累区电容C_ox，可以计算氧化物厚度t_ox：</p>
                            <div class="formula">
                                <p>t_ox = frac{epsilon_{ox}A}{C_{ox}}</p>
                            </div>
                            <p>其中ε_ox是SiO₂的介电常数，A是电容面积。</p>
                        </div>
                        
                        <div class="extraction-card">
                            <h3>2. 平带电压</h3>
                            <p>从C-V曲线的平带点可以直接读取平带电压V_FB。</p>
                        </div>
                        
                        <div class="extraction-card">
                            <h3>3. 阈值电压</h3>
                            <p>对于P型衬底，阈值电压是C-V曲线从耗尽区过渡到反型区的栅电压。</p>
                        </div>
                        
                        <div class="extraction-card">
                            <h3>4. 衬底掺杂浓度</h3>
                            <p>通过测量耗尽区电容的最小值，可以计算衬底掺杂浓度N_A或N_D。</p>
                        </div>
                        
                        <div class="extraction-card">
                            <h3>5. 界面态密度</h3>
                            <p>通过比较高频和低频C-V曲线，可以计算界面态密度。</p>
                        </div>
                        
                        <div class="extraction-card">
                            <h3>6. 固定电荷密度</h3>
                            <p>通过平带电压的偏移，可以计算固定电荷密度Q_f。</p>
                        </div>
                    </div>
                </section>

                <section class="summary">
                    <h2>本章小结</h2>
                    <p>本章详细介绍了MOS结构的物理特性，包括：</p>
                    
                    <ul>
                        <li>MOS结构的基本组成和概念</li>
                        <li>不同栅电压下的能带图变化</li>
                        <li>积累、耗尽和反型三种工作状态</li>
                        <li>理想和实际MOS电容的C-V特性</li>
                        <li>非理想效应及其对C-V曲线的影响</li>
                        <li>从C-V曲线提取MOS参数的方法</li>
                    </ul>
                    
                    <p>MOS结构是MOSFET的核心，理解MOS结构的物理特性对于掌握MOSFET的工作原理至关重要。通过C-V特性分析，可以深入了解MOS结构的内部特性，为器件设计和工艺优化提供重要依据。</p>
                </section>
            </div>

            <section class="next-chapter">
                <h2>下一章预告</h2>
                <p>第9章将深入探讨异质结与能带调控，包括异质结的能带对齐类型、调制掺杂技术、应变工程以及人工微结构等内容，这些技术是现代高性能半导体器件的重要基础。</p>
                <a href="chapter9.html" class="btn btn-primary">前往第9章</a>
            </section>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2023 SEMI_PROJ. 半导体器件与制造技术交互式指南</p>
        </div>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="../js/main.js"></script>
    <script>
        // MOS能带图模拟器
        const gateVoltageSlider = document.getElementById('gate-voltage');
        const gateVoltageValue = document.getElementById('gate-voltage-value');
        const substrateTypeSelect = document.getElementById('substrate-type');
        const mosBandDiagram = document.getElementById('mos-band-diagram');
        const stateIndicator = document.getElementById('state-indicator');
        
        function updateMosBandDiagram() {
            const gateVoltage = parseFloat(gateVoltageSlider.value);
            const substrateType = substrateTypeSelect.value;
            
            gateVoltageValue.textContent = gateVoltage.toFixed(1) + ' V';
            
            // 清除现有能带图
            mosBandDiagram.innerHTML = '';
            
            // 创建新的能带图
            const bandDiagram = document.createElement('div');
            bandDiagram.className = 'band-diagram';
            
            // 生成能带图（简化表示）
            const metalBand = document.createElement('div');
            metalBand.className = 'band-region metal-band';
            metalBand.innerHTML = '<div class="band-label">金属</div><div class="fermi-level">E_F</div>';
            
            const oxideBand = document.createElement('div');
            oxideBand.className = 'band-region oxide-band';
            oxideBand.innerHTML = '<div class="band-label">氧化物</div>';
            
            const semiconductorBand = document.createElement('div');
            semiconductorBand.className = `band-region semiconductor-band ${substrateType}`;
            
            let bandShape, state;
            if (substrateType === 'p-type') {
                if (gateVoltage < -1) {
                    // 积累状态
                    bandShape = 'accumulation';
                    state = '积累状态';
                } else if (gateVoltage < 2) {
                    // 耗尽状态
                    bandShape = 'depletion';
                    state = '耗尽状态';
                } else {
                    // 反型状态
                    bandShape = 'inversion';
                    state = '反型状态';
                }
            } else {
                if (gateVoltage > 1) {
                    // 积累状态
                    bandShape = 'accumulation';
                    state = '积累状态';
                } else if (gateVoltage > -2) {
                    // 耗尽状态
                    bandShape = 'depletion';
                    state = '耗尽状态';
                } else {
                    // 反型状态
                    bandShape = 'inversion';
                    state = '反型状态';
                }
            }
            
            semiconductorBand.className += ` ${bandShape}`;
            semiconductorBand.innerHTML = `
                <div class="band-label">${substrateType.toUpperCase()}型半导体</div>
                <div class="valence-band">价带</div>
                <div class="fermi-level">E_F</div>
                <div class="conduction-band">导带</div>
            `;
            
            bandDiagram.appendChild(metalBand);
            bandDiagram.appendChild(oxideBand);
            bandDiagram.appendChild(semiconductorBand);
            mosBandDiagram.appendChild(bandDiagram);
            
            stateIndicator.textContent = `当前状态：${state}`;
        }
        
        gateVoltageSlider.addEventListener('input', updateMosBandDiagram);
        substrateTypeSelect.addEventListener('change', updateMosBandDiagram);
        
        // 初始化能带图
        updateMosBandDiagram();
        
        // MOS C-V特性模拟器
        const cvFrequencySelect = document.getElementById('cv-frequency');
        const oxThicknessSlider = document.getElementById('ox-thickness');
        const oxThicknessValue = document.getElementById('ox-thickness-value');
        const substrateDopingSlider = document.getElementById('substrate-doping');
        const substrateDopingValue = document.getElementById('substrate-doping-value');
        const cvChartCanvas = document.getElementById('cv-chart').getContext('2d');
        
        let cvChart = new Chart(cvChartCanvas, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: 'MOS电容',
                    data: [],
                    borderColor: '#3498db',
                    backgroundColor: 'rgba(52, 152, 219, 0.1)',
                    fill: true,
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: '栅电压 (V)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: '电容 (F/cm²)'
                        }
                    }
                }
            }
        });
        
        function updateCvChart() {
            const frequency = cvFrequencySelect.value;
            const oxThickness = parseFloat(oxThicknessSlider.value) * 1e-9; // 转换为米
            const substrateDoping = parseFloat(substrateDopingSlider.value);
            
            oxThicknessValue.textContent = oxThicknessSlider.value + ' nm';
            substrateDopingValue.textContent = substrateDoping.toExponential() + ' cm⁻³';
            
            // 计算氧化物电容
            const epsilon0 = 8.854e-14; // F/cm
            const epsilonOx = 3.9; // SiO₂的相对介电常数
            const Cox = (epsilon0 * epsilonOx) / (oxThickness * 1e7); // F/cm²
            
            // 生成C-V曲线数据
            const voltages = [];
            const capacitances = [];
            
            for (let v = -5; v <= 5; v += 0.1) {
                voltages.push(v.toFixed(1));
                
                let cap;
                if (v < -2) {
                    // 积累区
                    cap = Cox;
                } else if (v < 2) {
                    // 耗尽区
                    // 简化模型：电容随电压线性变化
                    cap = Cox * (0.3 + 0.7 * (v + 2) / 4);
                } else {
                    // 反型区
                    if (frequency === 'low') {
                        cap = Cox;
                    } else {
                        // 高频反型区电容最小值
                        cap = Cox * 0.3;
                    }
                }
                
                capacitances.push(cap);
            }
            
            cvChart.data.labels = voltages;
            cvChart.data.datasets[0].data = capacitances;
            cvChart.update();
        }
        
        cvFrequencySelect.addEventListener('change', updateCvChart);
        oxThicknessSlider.addEventListener('input', updateCvChart);
        substrateDopingSlider.addEventListener('input', updateCvChart);
        
        // 初始化C-V曲线
        updateCvChart();
        
        // 非理想效应C-V曲线模拟器
        const fixedChargeSlider = document.getElementById('fixed-charge');
        const fixedChargeValue = document.getElementById('fixed-charge-value');
        const interfaceStatesSlider = document.getElementById('interface-states');
        const interfaceStatesValue = document.getElementById('interface-states-value');
        const nonIdealCvChartCanvas = document.getElementById('non-ideal-cv-chart').getContext('2d');
        const cvShiftIndicator = document.getElementById('cv-shift-indicator');
        
        let nonIdealCvChart = new Chart(nonIdealCvChartCanvas, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: '理想C-V曲线',
                    data: [],
                    borderColor: '#3498db',
                    backgroundColor: 'rgba(52, 152, 219, 0.1)',
                    fill: false,
                    tension: 0.1
                }, {
                    label: '实际C-V曲线',
                    data: [],
                    borderColor: '#e74c3c',
                    backgroundColor: 'rgba(231, 76, 60, 0.1)',
                    fill: false,
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: '栅电压 (V)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: '电容 (F/cm²)'
                        }
                    }
                }
            }
        });
        
        function updateNonIdealCvChart() {
            const fixedCharge = parseFloat(fixedChargeSlider.value);
            const interfaceStates = parseFloat(interfaceStatesSlider.value);
            
            fixedChargeValue.textContent = fixedCharge.toExponential() + ' cm⁻²';
            interfaceStatesValue.textContent = interfaceStates.toExponential() + ' cm⁻²·eV⁻¹';
            
            // 计算氧化物电容（固定值）
            const Cox = 1e-7; // F/cm²（示例值）
            
            // 生成C-V曲线数据
            const voltages = [];
            const idealCapacitances = [];
            const actualCapacitances = [];
            
            const shift = -fixedCharge * 1e-12; // 固定电荷引起的C-V曲线偏移
            
            for (let v = -5; v <= 5; v += 0.1) {
                voltages.push(v.toFixed(1));
                
                // 理想C-V曲线
                let idealCap;
                if (v < -2) {
                    idealCap = Cox;
                } else if (v < 2) {
                    idealCap = Cox * (0.3 + 0.7 * (v + 2) / 4);
                } else {
                    idealCap = Cox * 0.3;
                }
                
                // 实际C-V曲线（考虑非理想效应）
                let actualCap = idealCap;
                
                // 固定电荷引起的偏移
                const actualV = v + shift;
                if (actualV < -2) {
                    actualCap = Cox;
                } else if (actualV < 2) {
                    actualCap = Cox * (0.3 + 0.7 * (actualV + 2) / 4);
                } else {
                    actualCap = Cox * 0.3;
                }
                
                // 界面态引起的电容增加
                actualCap *= (1 + interfaceStates * 1e-12);
                
                idealCapacitances.push(idealCap);
                actualCapacitances.push(actualCap);
            }
            
            nonIdealCvChart.data.labels = voltages;
            nonIdealCvChart.data.datasets[0].data = idealCapacitances;
            nonIdealCvChart.data.datasets[1].data = actualCapacitances;
            nonIdealCvChart.update();
            
            cvShiftIndicator.textContent = `C-V曲线偏移：${shift.toFixed(2)} V`;
        }
        
        fixedChargeSlider.addEventListener('input', updateNonIdealCvChart);
        interfaceStatesSlider.addEventListener('input', updateNonIdealCvChart);
        
        // 初始化非理想C-V曲线
        updateNonIdealCvChart();
    </script>
</body>
</html>