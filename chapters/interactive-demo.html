<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>交互式组件示例 - SEMI_PROJ</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 0;
        }
        
        .demo-section {
            background-color: white;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }
        
        .demo-title {
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-color);
        }
        
        .demo-description {
            margin-bottom: 1.5rem;
            color: var(--text-color);
        }
        
        .device-3d-container {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            margin-top: 1.5rem;
        }
        
        .device-3d-viewer {
            flex: 1;
            min-width: 300px;
            height: 400px;
            background-color: #f5f5f5;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            perspective: 1000px;
        }
        
        .device-3d-model {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.5s ease;
        }
        
        .device-3d-face {
            position: absolute;
            opacity: 0.9;
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        .device-3d-controls {
            flex: 0 0 250px;
        }
        
        .control-group {
            margin-bottom: 1rem;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .control-group input,
        .control-group select {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: 4px;
        }
        
        .control-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .control-btn {
            padding: 0.5rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .control-btn:hover {
            background-color: var(--secondary-color);
        }
        
        .timeline-container {
            position: relative;
            margin: 2rem 0;
        }
        
        .timeline {
            position: relative;
            padding: 2rem 0;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 100%;
            background-color: var(--primary-color);
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 2rem;
            width: 45%;
        }
        
        .timeline-item:nth-child(odd) {
            left: 0;
            text-align: right;
            padding-right: 2rem;
        }
        
        .timeline-item:nth-child(even) {
            left: 55%;
            padding-left: 2rem;
        }
        
        .timeline-dot {
            position: absolute;
            top: 0;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--primary-color);
            border: 4px solid white;
            box-shadow: var(--shadow);
        }
        
        .timeline-item:nth-child(odd) .timeline-dot {
            right: -10px;
        }
        
        .timeline-item:nth-child(even) .timeline-dot {
            left: -10px;
        }
        
        .timeline-content {
            background-color: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }
        
        .timeline-date {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .timeline-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .timeline-description {
            font-size: 0.9rem;
            color: var(--light-text);
        }
        
        .device-comparison {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .device-card {
            flex: 1;
            min-width: 200px;
            background-color: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .device-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }
        
        .device-image {
            height: 150px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--primary-color);
        }
        
        .device-info {
            padding: 1rem;
        }
        
        .device-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .device-specs {
            font-size: 0.9rem;
            color: var(--light-text);
        }
        
        .device-specs li {
            margin-bottom: 0.25rem;
        }
        
        .parameter-calculator {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 1.5rem;
        }
        
        .calculator-inputs {
            background-color: var(--light-color);
            padding: 1.5rem;
            border-radius: 8px;
        }
        
        .calculator-results {
            background-color: var(--light-color);
            padding: 1.5rem;
            border-radius: 8px;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-label {
            font-weight: 500;
        }
        
        .result-value {
            font-weight: 600;
            color: var(--primary-color);
        }
        
        @media (max-width: 768px) {
            .device-3d-container {
                flex-direction: column;
            }
            
            .device-3d-controls {
                flex: 1;
            }
            
            .timeline::before {
                left: 20px;
            }
            
            .timeline-item {
                width: calc(100% - 40px);
                left: 40px !important;
                text-align: left !important;
                padding-left: 2rem !important;
                padding-right: 0 !important;
            }
            
            .timeline-dot {
                left: -10px !important;
                right: auto !important;
            }
            
            .device-comparison {
                flex-direction: column;
            }
            
            .parameter-calculator {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>SEMI_PROJ</h1>
                <p>半导体器件与制造技术交互式指南</p>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html">首页</a></li>
                    <li><a href="../index.html#basics">基础原理</a></li>
                    <li><a href="../index.html#integration">集成器件</a></li>
                    <li><a href="../index.html#process">制造工艺</a></li>
                    <li><a href="../index.html#advanced">先进技术</a></li>
                    <li><a href="../index.html#tools">工具资源</a></li>
                </ul>
            </nav>
            <div class="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container demo-container">
            <h1>交互式组件示例</h1>
            <p>以下展示了SEMI_PROJ网站中使用的各种交互式组件，这些组件旨在帮助用户更好地理解半导体器件的结构、工作原理和性能特性。</p>
            
            <!-- 器件3D结构查看器 -->
            <div class="demo-section">
                <h2 class="demo-title">器件3D结构查看器</h2>
                <p class="demo-description">通过3D可视化查看器，用户可以360度旋转、缩放和分层查看各种半导体器件的结构，包括MOSFET、FinFET和GAA FET等。</p>
                
                <div class="device-3d-container">
                    <div class="device-3d-viewer" id="device-viewer">
                        <div class="device-3d-model" id="device-model">
                            <!-- 简化的3D模型表示 -->
                            <div class="device-3d-face" style="width: 200px; height: 200px; background-color: #4CAF50; transform: translateX(50px) translateY(50px) translateZ(100px);"></div>
                            <div class="device-3d-face" style="width: 200px; height: 200px; background-color: #2196F3; transform: translateX(50px) translateY(50px) translateZ(-100px);"></div>
                            <div class="device-3d-face" style="width: 200px; height: 200px; background-color: #FF9800; transform: rotateY(90deg) translateZ(100px) translateY(50px);"></div>
                            <div class="device-3d-face" style="width: 200px; height: 200px; background-color: #9C27B0; transform: rotateY(90deg) translateZ(-100px) translateY(50px);"></div>
                            <div class="device-3d-face" style="width: 200px; height: 200px; background-color: #F44336; transform: rotateX(90deg) translateZ(100px) translateX(50px);"></div>
                            <div class="device-3d-face" style="width: 200px; height: 200px; background-color: #607D8B; transform: rotateX(90deg) translateZ(-100px) translateX(50px);"></div>
                        </div>
                    </div>
                    
                    <div class="device-3d-controls">
                        <div class="control-group">
                            <label for="device-type">器件类型</label>
                            <select id="device-type">
                                <option value="mosfet">MOSFET</option>
                                <option value="finfet">FinFET</option>
                                <option value="gaafet">GAA FET</option>
                                <option value="igbt">IGBT</option>
                            </select>
                        </div>
                        
                        <div class="control-group">
                            <label for="view-mode">查看模式</label>
                            <select id="view-mode">
                                <option value="exterior">外部结构</option>
                                <option value="cross-section">截面图</option>
                                <option value="layers">分层视图</option>
                            </select>
                        </div>
                        
                        <div class="control-group">
                            <label for="rotation-speed">旋转速度</label>
                            <input type="range" id="rotation-speed" min="0" max="10" value="0">
                        </div>
                        
                        <div class="control-buttons">
                            <button class="control-btn" id="rotate-left"><i class="fas fa-arrow-left"></i></button>
                            <button class="control-btn" id="rotate-up"><i class="fas fa-arrow-up"></i></button>
                            <button class="control-btn" id="rotate-right"><i class="fas fa-arrow-right"></i></button>
                            <button class="control-btn" id="rotate-down"><i class="fas fa-arrow-down"></i></button>
                            <button class="control-btn" id="zoom-in"><i class="fas fa-search-plus"></i></button>
                            <button class="control-btn" id="zoom-out"><i class="fas fa-search-minus"></i></button>
                            <button class="control-btn" id="reset-view"><i class="fas fa-undo"></i></button>
                            <button class="control-btn" id="auto-rotate"><i class="fas fa-sync"></i></button>
                            <button class="control-btn" id="explode-view"><i class="fas fa-expand"></i></button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 器件发展时间轴 -->
            <div class="demo-section">
                <h2 class="demo-title">器件发展时间轴</h2>
                <p class="demo-description">交互式时间轴展示了半导体器件从早期发展到现代先进器件的演进历程，点击每个节点可查看详细信息。</p>
                
                <div class="timeline-container">
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">1947年</div>
                                <div class="timeline-title">点接触晶体管</div>
                                <div class="timeline-description">贝尔实验室发明了第一个晶体管，标志着半导体时代的开始。</div>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">1950年代</div>
                                <div class="timeline-title">结型晶体管 (BJT)</div>
                                <div class="timeline-description">BJT成为早期电子设备的主要放大和开关元件。</div>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">1959年</div>
                                <div class="timeline-title">集成电路 (IC)</div>
                                <div class="timeline-description">杰克·基尔比和罗伯特·诺伊斯独立发明了集成电路，将多个晶体管集成到单个芯片上。</div>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">1960年代</div>
                                <div class="timeline-title">MOSFET</div>
                                <div class="timeline-description">金属-氧化物-半导体场效应晶体管发明，成为现代集成电路的基础。</div>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">1971年</div>
                                <div class="timeline-title">微处理器</div>
                                <div class="timeline-description">英特尔推出第一款商用微处理器4004，开启了个人电脑时代。</div>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">1990年代</div>
                                <div class="timeline-title">深亚微米CMOS</div>
                                <div class="timeline-description">CMOS工艺进入深亚微米时代，集成电路集成度大幅提高。</div>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">2000年代</div>
                                <div class="timeline-title">应变硅与高k/金属栅</div>
                                <div class="timeline-description">引入应变硅技术和高k/金属栅极，解决传统MOSFET的尺寸缩小限制。</div>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">2010年代</div>
                                <div class="timeline-title">FinFET与3D NAND</div>
                                <div class="timeline-description">FinFET结构成为主流，3D NAND闪存技术大幅提高存储密度。</div>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-dot"></div>
                            <div class="timeline-content">
                                <div class="timeline-date">2020年代</div>
                                <div class="timeline-title">GAA FET与Chiplet</div>
                                <div class="timeline-description">GAA FET结构开始应用，Chiplet技术成为提高集成度和降低成本的新方向。</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 器件性能对比工具 -->
            <div class="demo-section">
                <h2 class="demo-title">器件性能对比工具</h2>
                <p class="demo-description">交互式对比工具允许用户选择不同的半导体器件，并比较它们的关键性能参数，包括驱动电流、漏电流、开关速度等。</p>
                
                <div class="device-comparison">
                    <div class="device-card">
                        <div class="device-image">
                            <i class="fas fa-microchip"></i>
                        </div>
                        <div class="device-info">
                            <div class="device-name">平面MOSFET</div>
                            <ul class="device-specs">
                                <li>工艺节点: 45nm+</li>
                                <li>驱动电流: 中等</li>
                                <li>漏电流: 较高</li>
                                <li>功耗: 中等</li>
                                <li>适用场景: 传统数字电路</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="device-card">
                        <div class="device-image">
                            <i class="fas fa-cube"></i>
                        </div>
                        <div class="device-info">
                            <div class="device-name">FinFET</div>
                            <ul class="device-specs">
                                <li>工艺节点: 22nm-7nm</li>
                                <li>驱动电流: 高</li>
                                <li>漏电流: 中等</li>
                                <li>功耗: 较低</li>
                                <li>适用场景: 高性能计算</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="device-card">
                        <div class="device-image">
                            <i class="fas fa-atom"></i>
                        </div>
                        <div class="device-info">
                            <div class="device-name">GAA FET</div>
                            <ul class="device-specs">
                                <li>工艺节点: 5nm及以下</li>
                                <li>驱动电流: 很高</li>
                                <li>漏电流: 低</li>
                                <li>功耗: 很低</li>
                                <li>适用场景: 先进移动设备</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="device-card">
                        <div class="device-image">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="device-info">
                            <div class="device-name">宽禁带器件</div>
                            <ul class="device-specs">
                                <li>材料: SiC/GaN</li>
                                <li>击穿电压: 很高</li>
                                <li>工作温度: 高</li>
                                <li>开关速度: 快</li>
                                <li>适用场景: 功率电子</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 2rem;">
                    <canvas id="comparison-chart" width="400" height="200"></canvas>
                </div>
            </div>
            
            <!-- 器件参数计算器 -->
            <div class="demo-section">
                <h2 class="demo-title">器件参数计算器</h2>
                <p class="demo-description">输入器件结构和工艺参数，自动计算关键性能指标，如阈值电压、导通电阻、跨导等。</p>
                
                <div class="parameter-calculator">
                    <div class="calculator-inputs">
                        <h3>输入参数</h3>
                        
                        <div class="control-group">
                            <label for="channel-length">沟道长度 (nm)</label>
                            <input type="number" id="channel-length" value="100" min="10" max="1000">
                        </div>
                        
                        <div class="control-group">
                            <label for="channel-width">沟道宽度 (μm)</label>
                            <input type="number" id="channel-width" value="1" min="0.1" max="100">
                        </div>
                        
                        <div class="control-group">
                            <label for="oxide-thickness">氧化层厚度 (nm)</label>
                            <input type="number" id="oxide-thickness" value="2" min="0.5" max="10" step="0.1">
                        </div>
                        
                        <div class="control-group">
                            <label for="substrate-doping">衬底掺杂浓度 (cm<sup>-3</sup>)</label>
                            <input type="text" id="substrate-doping" value="1e16">
                        </div>
                        
                        <div class="control-group">
                            <label for="device-type-calc">器件类型</label>
                            <select id="device-type-calc">
                                <option value="nmos">N型MOSFET</option>
                                <option value="pmos">P型MOSFET</option>
                            </select>
                        </div>
                        
                        <button class="btn btn-primary" id="calculate-params">计算参数</button>
                    </div>
                    
                    <div class="calculator-results">
                        <h3>计算结果</h3>
                        
                        <div class="result-item">
                            <span class="result-label">阈值电压 (Vth):</span>
                            <span class="result-value" id="result-vth">-</span>
                        </div>
                        
                        <div class="result-item">
                            <span class="result-label">导通电阻 (Ron):</span>
                            <span class="result-value" id="result-ron">-</span>
                        </div>
                        
                        <div class="result-item">
                            <span class="result-label">跨导 (gm):</span>
                            <span class="result-value" id="result-gm">-</span>
                        </div>
                        
                        <div class="result-item">
                            <span class="result-label">栅极电容 (Cgg):</span>
                            <span class="result-value" id="result-cgg">-</span>
                        </div>
                        
                        <div class="result-item">
                            <span class="result-label">截止频率 (ft):</span>
                            <span class="result-value" id="result-ft">-</span>
                        </div>
                        
                        <div class="result-item">
                            <span class="result-label">亚阈值斜率 (SS):</span>
                            <span class="result-value" id="result-ss">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>关于SEMI_PROJ</h3>
                    <p>致力于打造半导体器件与制造技术的交互式学习平台，提供全面、深入、实用的知识体系。</p>
                </div>
                <div class="footer-section">
                    <h3>快速链接</h3>
                    <ul>
                        <li><a href="../index.html#basics">基础原理</a></li>
                        <li><a href="../index.html#integration">集成器件</a></li>
                        <li><a href="../index.html#process">制造工艺</a></li>
                        <li><a href="../index.html#advanced">先进技术</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>联系我们</h3>
                    <p>邮箱：info@semiproj.edu</p>
                    <p>电话：+86 123-4567-8900</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 SEMI_PROJ. 保留所有权利。</p>
            </div>
        </div>
    </footer>

    <script src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化移动菜单
            initMobileMenu();
            
            // 初始化3D器件查看器
            init3DDeviceViewer();
            
            // 初始化器件对比图表
            initComparisonChart();
            
            // 初始化参数计算器
            initParameterCalculator();
        });
        
        // 3D器件查看器
        function init3DDeviceViewer() {
            const deviceModel = document.getElementById('device-model');
            const deviceType = document.getElementById('device-type');
            const viewMode = document.getElementById('view-mode');
            const rotationSpeed = document.getElementById('rotation-speed');
            
            // 当前旋转角度和缩放
            let rotationX = 0;
            let rotationY = 0;
            let zoom = 1;
            let autoRotate = false;
            let exploded = false;
            
            // 更新3D视图
            function update3DView() {
                const device = deviceType.value;
                const mode = viewMode.value;
                const speed = parseInt(rotationSpeed.value);
                
                // 应用变换
                let transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg) scale(${zoom})`;
                
                if (exploded) {
                    // 爆炸视图，将各部分分开
                    const faces = deviceModel.querySelectorAll('.device-3d-face');
                    faces.forEach((face, index) => {
                        const direction = index % 3;
                        const distance = 50;
                        
                        if (direction === 0) {
                            face.style.transform += ` translateZ(${distance}px)`;
                        } else if (direction === 1) {
                            face.style.transform += ` translateX(${distance}px)`;
                        } else {
                            face.style.transform += ` translateY(${distance}px)`;
                        }
                    });
                }
                
                deviceModel.style.transform = transform;
                
                // 自动旋转
                if (speed > 0 && !autoRotate) {
                    autoRotate = true;
                    animateRotation(speed);
                } else if (speed === 0) {
                    autoRotate = false;
                }
            }
            
            // 旋转动画
            function animateRotation(speed) {
                if (!autoRotate) return;
                
                rotationY += speed;
                update3DView();
                requestAnimationFrame(() => animateRotation(speed));
            }
            
            // 控制按钮事件
            document.getElementById('rotate-left').addEventListener('click', () => {
                rotationY -= 15;
                update3DView();
            });
            
            document.getElementById('rotate-right').addEventListener('click', () => {
                rotationY += 15;
                update3DView();
            });
            
            document.getElementById('rotate-up').addEventListener('click', () => {
                rotationX -= 15;
                update3DView();
            });
            
            document.getElementById('rotate-down').addEventListener('click', () => {
                rotationX += 15;
                update3DView();
            });
            
            document.getElementById('zoom-in').addEventListener('click', () => {
                zoom = Math.min(zoom + 0.2, 3);
                update3DView();
            });
            
            document.getElementById('zoom-out').addEventListener('click', () => {
                zoom = Math.max(zoom - 0.2, 0.5);
                update3DView();
            });
            
            document.getElementById('reset-view').addEventListener('click', () => {
                rotationX = 0;
                rotationY = 0;
                zoom = 1;
                exploded = false;
                rotationSpeed.value = 0;
                autoRotate = false;
                update3DView();
            });
            
            document.getElementById('auto-rotate').addEventListener('click', () => {
                autoRotate = !autoRotate;
                if (autoRotate) {
                    rotationSpeed.value = 5;
                    animateRotation(5);
                } else {
                    rotationSpeed.value = 0;
                }
            });
            
            document.getElementById('explode-view').addEventListener('click', () => {
                exploded = !exploded;
                update3DView();
            });
            
            // 器件类型和视图模式变化
            deviceType.addEventListener('change', update3DView);
            viewMode.addEventListener('change', update3DView);
            rotationSpeed.addEventListener('input', update3DView);
            
            // 初始化视图
            update3DView();
        }
        
        // 器件对比图表
        function initComparisonChart() {
            const canvas = document.getElementById('comparison-chart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            // 创建雷达图
            const chart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['驱动电流', '漏电流', '开关速度', '功耗效率', '集成密度', '成本效益'],
                    datasets: [
                        {
                            label: '平面MOSFET',
                            data: [60, 30, 50, 60, 40, 90],
                            backgroundColor: 'rgba(26, 115, 232, 0.2)',
                            borderColor: 'rgba(26, 115, 232, 0.8)',
                            pointBackgroundColor: 'rgba(26, 115, 232, 1)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(26, 115, 232, 1)'
                        },
                        {
                            label: 'FinFET',
                            data: [80, 60, 75, 75, 75, 60],
                            backgroundColor: 'rgba(52, 168, 83, 0.2)',
                            borderColor: 'rgba(52, 168, 83, 0.8)',
                            pointBackgroundColor: 'rgba(52, 168, 83, 1)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(52, 168, 83, 1)'
                        },
                        {
                            label: 'GAA FET',
                            data: [95, 80, 90, 90, 90, 40],
                            backgroundColor: 'rgba(251, 188, 4, 0.2)',
                            borderColor: 'rgba(251, 188, 4, 0.8)',
                            pointBackgroundColor: 'rgba(251, 188, 4, 1)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(251, 188, 4, 1)'
                        },
                        {
                            label: '宽禁带器件',
                            data: [85, 95, 95, 85, 30, 30],
                            backgroundColor: 'rgba(234, 67, 53, 0.2)',
                            borderColor: 'rgba(234, 67, 53, 0.8)',
                            pointBackgroundColor: 'rgba(234, 67, 53, 1)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(234, 67, 53, 1)'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    elements: {
                        line: {
                            borderWidth: 2
                        }
                    },
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    }
                }
            });
            
            // 添加交互功能
            const deviceCards = document.querySelectorAll('.device-card');
            
            deviceCards.forEach((card, index) => {
                card.addEventListener('mouseenter', () => {
                    // 高亮对应的数据集
                    chart.data.datasets.forEach((dataset, i) => {
                        dataset.borderWidth = i === index ? 4 : 2;
                    });
                    chart.update();
                });
                
                card.addEventListener('mouseleave', () => {
                    // 恢复默认线宽
                    chart.data.datasets.forEach(dataset => {
                        dataset.borderWidth = 2;
                    });
                    chart.update();
                });
            });
        }
        
        // 参数计算器
        function initParameterCalculator() {
            const calculateBtn = document.getElementById('calculate-params');
            
            calculateBtn.addEventListener('click', () => {
                // 获取输入参数
                const L = parseFloat(document.getElementById('channel-length').value) * 1e-9; // 转换为米
                const W = parseFloat(document.getElementById('channel-width').value) * 1e-6; // 转换为米
                const tox = parseFloat(document.getElementById('oxide-thickness').value) * 1e-9; // 转换为米
                const Na = parseFloat(document.getElementById('substrate-doping').value);
                const deviceType = document.getElementById('device-type-calc').value;
                
                // 物理常数
                const q = 1.602e-19; // 电子电荷
                const eps0 = 8.854e-12; // 真空介电常数
                const epsSi = 11.7 * eps0; // 硅的介电常数
                const epsSiO2 = 3.9 * eps0; // SiO2的介电常数
                const ni = 1.5e10; // 硅的本征载流子浓度
                const k = 1.381e-23; // 玻尔兹曼常数
                const T = 300; // 温度(K)
                const Vt = k * T / q; // 热电压
                
                // 计算参数
                const Cox = epsSiO2 / tox; // 单位面积栅氧化层电容
                const Vfb = deviceType === 'nmos' ? -0.9 : -0.9; // 平带电压
                const phiF = Vt * Math.log(Na / ni); // 费米势
                const Vth = Vfb + 2 * phiF + Math.sqrt(2 * q * epsSi * Na * 2 * phiF) / Cox; // 阈值电压
                
                // 假设工作在饱和区，Vgs = Vdd = 1.2V
                const Vdd = 1.2;
                const Vgs = Vdd;
                const Vds = Vdd;
                
                // 载流子迁移率
                const mu = deviceType === 'nmos' ? 400e-4 : 200e-4; // m²/V·s
                
                // 计算性能参数
                const Idsat = 0.5 * mu * Cox * (W / L) * Math.pow(Vgs - Vth, 2); // 饱和电流
                const Ron = (Vgs - Vth) / Idsat; // 导通电阻
                const gm = mu * Cox * (W / L) * (Vgs - Vth); // 跨导
                const Cgg = 2/3 * Cox * W * L + Cox * W * 0.1e-6; // 栅极电容
                const ft = gm / (2 * Math.PI * Cgg); // 截止频率
                const SS = 60 * (1 + tox * epsSi / (epsSiO2 * 0.1e-6)); // 亚阈值斜率
                
                // 更新结果显示
                document.getElementById('result-vth').textContent = Vth.toFixed(3) + ' V';
                document.getElementById('result-ron').textContent = (Ron / 1000).toFixed(2) + ' kΩ';
                document.getElementById('result-gm').textContent = (gm * 1000).toFixed(2) + ' mS';
                document.getElementById('result-cgg').textContent = (Cgg * 1e15).toFixed(2) + ' fF';
                document.getElementById('result-ft').textContent = (ft / 1e9).toFixed(2) + ' GHz';
                document.getElementById('result-ss').textContent = SS.toFixed(1) + ' mV/dec';
            });
            
            // 初始计算
            calculateBtn.click();
        }
    </script>
</body>
</html>