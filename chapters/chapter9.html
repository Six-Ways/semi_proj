<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第9章：异质结与能带调控 - SEMI_PROJ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>SEMI_PROJ</h1>
                <p>半导体器件与制造技术交互式指南</p>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html" class="nav-link">首页</a></li>
                    <li><a href="../index.html#part1" class="nav-link">第一部分</a></li>
                    <li><a href="../index.html#part2" class="nav-link">第二部分</a></li>
                    <li><a href="../index.html#part3" class="nav-link">第三部分</a></li>
                    <li><a href="../index.html#part4" class="nav-link">第四部分</a></li>
                </ul>
            </nav>
            <div class="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>
    
    <!-- 左侧菜单目录 -->
    <aside class="sidebar">
        <button class="sidebar-toggle">
            <i class="fas fa-chevron-left"></i>
        </button>
        
        <div class="sidebar-content">
            <div class="sidebar-header">
                <h3>章节导航</h3>
                <button class="sidebar-hide-btn" title="隐藏侧边栏">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <nav class="chapter-nav">
                <a href="../index.html" class="chapter-nav-item">
                    <i class="fas fa-home"></i> 返回主页
                </a>
                
                <a href="preface.html" class="chapter-nav-item">
                    序言：硅基文明与信息时代
                </a>
                <a href="chapter1.html" class="chapter-nav-item">
                    第1章：量子力学基础与固体中的电子
                </a>
                <a href="chapter2.html" class="chapter-nav-item">
                    第2章：半导体材料与晶体结构
                </a>
                <a href="chapter3.html" class="chapter-nav-item">
                    第3章：载流子统计与热平衡
                </a>
                <a href="chapter4.html" class="chapter-nav-item">
                    第4章：载流子输运现象
                </a>
                <a href="chapter5.html" class="chapter-nav-item">
                    第5章：非平衡载流子与复合动力学
                </a>
                <a href="chapter6.html" class="chapter-nav-item">
                    第6章：高场效应与量子输运
                </a>
                <a href="chapter7.html" class="chapter-nav-item">
                    第7章：PN结与金属-半导体接触
                </a>
                <a href="chapter8.html" class="chapter-nav-item">
                    第8章：MOS结构物理
                </a>
                <a href="chapter9.html" class="chapter-nav-item active">
                    第9章：异质结与能带调控
                </a>
                <a href="chapter10.html" class="chapter-nav-item">
                    第10章：金属-氧化物-半导体场效应晶体管（MOSFET）
                </a>
                <a href="chapter11.html" class="chapter-nav-item">
                    第11章：双极结型晶体管（BJT）与特种器件
                </a>
                <a href="chapter12.html" class="chapter-nav-item">
                    第12章：光电子与量子效应器件
                </a>
                <a href="chapter13.html" class="chapter-nav-item">
                    第13章：晶圆制备与薄膜工程
                </a>
                <a href="chapter14.html" class="chapter-nav-item">
                    第14章：图形化与掺杂技术
                </a>
                <a href="chapter15.html" class="chapter-nav-item">
                    第15章：工艺集成与后端互连
                </a>
                <a href="chapter16.html" class="chapter-nav-item">
                    第16章：半导体材料与器件表征
                </a>
                <a href="chapter17.html" class="chapter-nav-item">
                    第17章：紧凑模型与电路仿真
                </a>
                <a href="chapter18.html" class="chapter-nav-item">
                    第18章：VLSI与SoC设计基础
                </a>
                <a href="chapter19.html" class="chapter-nav-item">
                    第19章：互连、功耗与可靠性
                </a>
                <a href="chapter20.html" class="chapter-nav-item">
                    第20章：超越传统硅基CMOS
                </a>
            </nav>
        </div>
    </aside>
    
    <main class="main-content">
        <div class="chapter-container">
            <div class="breadcrumb">
                <p><a href="../index.html">首页</a> &gt; 第9章：异质结与能带调控</p>
            </div>
            <div class="chapter-header">
                <h1>第9章：异质结与能带调控</h1>
            </div>
            
            <div class="chapter-core">
                <h3>核心内容</h3>
                <p>介绍异质结的能带对齐类型（I型、II型、III型）。讲解调制掺杂技术及其产生二维电子气（2DEG）的原理。阐述应变工程（如应变硅）通过改变能带结构提升载流子迁移率的物理机制。介绍超晶格、量子阱等人工微结构。</p>
            </div>
            
            <div class="chapter-objectives">
                <h3>章节目标</h3>
                <ul>
                    <li>理解通过不同材料组合实现能带剪裁的设计思想</li>
                    <li>掌握调制掺杂和应变工程这两种关键能带调控技术的基本原理</li>
                    <li>了解异质结的不同能带对齐类型及其应用</li>
                    <li>认识人工微结构（超晶格、量子阱）的物理特性</li>
                </ul>
            </div>
            
            <div class="chapter-keywords">
                <h3>关键词</h3>
                <div class="keywords-list">
                    <span class="keyword">异质结</span>
                    <span class="keyword">能带偏移</span>
                    <span class="keyword">调制掺杂</span>
                    <span class="keyword">二维电子气（2DEG）</span>
                    <span class="keyword">高电子迁移率晶体管（HEMT）</span>
                    <span class="keyword">应变硅</span>
                    <span class="keyword">超晶格</span>
                    <span class="keyword">量子阱</span>
                </div>
            </div>

            <div class="content">
                <section class="intro">
                    <p>异质结是由两种不同半导体材料形成的结，与同质结（由同一种材料不同掺杂类型形成的结）相比，具有更多的设计自由度和独特的物理特性。通过选择不同的半导体材料组合，可以实现对能带结构的精确调控，从而获得更高性能的半导体器件。本章将详细介绍异质结的基本概念、能带对齐类型、调制掺杂技术、应变工程以及人工微结构等内容。</p>
                </section>

                <section class="heterojunction-basics">
                    <h2>9.1 异质结的基本概念</h2>
                    <p>异质结是两种不同半导体材料在界面处形成的结，其基本特性由两种材料的能带结构和界面特性共同决定。</p>
                    
                    <div class="concept-box">
                        <h3>异质结的分类</h3>
                        <ul>
                            <li><strong>按材料类型分类</strong>：元素半导体异质结（如Si-Ge）、化合物半导体异质结（如GaAs-AlGaAs）、元素-化合物异质结（如Si-GaAs）</li>
                            <li><strong>按掺杂类型分类</strong>：同型异质结（如n-n、p-p）、异型异质结（如n-p）</li>
                            <li><strong>按界面质量分类</strong>：理想异质结（无界面缺陷）、实际异质结（存在界面态）</li>
                        </ul>
                    </div>

                    <div class="diagram-container">
                        <h3>异质结结构示意图</h3>
                        <div class="heterojunction-diagram">
                            <div class="hetero-layer material1">
                                <div class="layer-label">材料1 (Eg1)</div>
                            </div>
                            <div class="hetero-interface">
                                <div class="interface-label">异质结界面</div>
                            </div>
                            <div class="hetero-layer material2">
                                <div class="layer-label">材料2 (Eg2 > Eg1)</div>
                            </div>
                        </div>
                    </div>

                    <div class="concept-box">
                        <h3>异质结的优势</h3>
                        <ul>
                            <li>可以独立优化不同区域的材料特性</li>
                            <li>实现更灵活的能带结构设计</li>
                            <li>提高载流子迁移率和器件速度</li>
                            <li>改善器件的光学特性（如发光效率）</li>
                            <li>实现新的物理效应和器件功能</li>
                        </ul>
                    </div>
                </section>

                <section class="band-alignment">
                    <h2>9.2 异质结的能带对齐类型</h2>
                    <p>异质结的能带对齐是指两种半导体材料在界面处的能带相对位置关系，主要分为三种类型：I型、II型和III型。</p>
                    
                    <div class="alignment-grid">
                        <div class="alignment-card">
                            <h3>1. I型异质结（嵌套型）</h3>
                            <div class="alignment-description">
                                <p>材料1的导带底和价带顶都位于材料2的导带底和价带顶之间，载流子被限制在窄带隙材料中。</p>
                                <p><strong>特点</strong>：载流子限制效果好，发光效率高</p>
                                <p><strong>应用</strong>：发光二极管（LED）、半导体激光器</p>
                            </div>
                            <div class="alignment-diagram" id="type1-diagram">
                                <!-- I型异质结能带图 -->
                            </div>
                        </div>
                        
                        <div class="alignment-card">
                            <h3>2. II型异质结（交错型）</h3>
                            <div class="alignment-description">
                                <p>材料1的导带底位于材料2的价带顶和导带底之间，电子和空穴被分别限制在不同材料中。</p>
                                <p><strong>特点</strong>：空间分离的载流子，长寿命，强激子效应</p>
                                <p><strong>应用</strong>：红外探测器、太阳能电池、量子阱光电二极管</p>
                            </div>
                            <div class="alignment-diagram" id="type2-diagram">
                                <!-- II型异质结能带图 -->
                            </div>
                        </div>
                        
                        <div class="alignment-card">
                            <h3>3. III型异质结（反交错型）</h3>
                            <div class="alignment-description">
                                <p>材料1的导带底和价带顶都位于材料2的价带顶以下，或都位于材料2的导带底以上，形成完全分离的能带结构。</p>
                                <p><strong>特点</strong>：特殊的电子结构，量子隧穿效应显著</p>
                                <p><strong>应用</strong>：隧道器件、拓扑绝缘体异质结</p>
                            </div>
                            <div class="alignment-diagram" id="type3-diagram">
                                <!-- III型异质结能带图 -->
                            </div>
                        </div>
                    </div>

                    <div class="interactive-container">
                        <h3>异质结能带对齐交互演示</h3>
                        <div class="simulator-container">
                            <div class="controls">
                                <div class="control-group">
                                    <label for="material1">材料1</label>
                                    <select id="material1">
                                        <option value="gaas">GaAs (1.42 eV)</option>
                                        <option value="algaas">AlGaAs (1.8 eV)</option>
                                        <option value="ingan">InGaN (2.0 eV)</option>
                                        <option value="si">Si (1.12 eV)</option>
                                    </select>
                                </div>
                                <div class="control-group">
                                    <label for="material2">材料2</label>
                                    <select id="material2">
                                        <option value="algaas">AlGaAs (1.8 eV)</option>
                                        <option value="gaas">GaAs (1.42 eV)</option>
                                        <option value="ingan">InGaN (2.0 eV)</option>
                                        <option value="si">Si (1.12 eV)</option>
                                    </select>
                                </div>
                                <div class="control-group">
                                    <label for="alignment-type">对齐类型</label>
                                    <select id="alignment-type">
                                        <option value="type1">I型（嵌套型）</option>
                                        <option value="type2">II型（交错型）</option>
                                        <option value="type3">III型（反交错型）</option>
                                    </select>
                                </div>
                            </div>
                            <div class="band-diagram-container">
                                <div id="hetero-band-diagram" class="hetero-band-diagram">
                                    <!-- 异质结能带图将通过JavaScript动态生成 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="modulation-doping">
                    <h2>9.2 调制掺杂技术</h2>
                    <p>调制掺杂是一种重要的异质结制备技术，通过在宽带隙材料中掺杂，在窄带隙材料中产生高迁移率的二维电子气（2DEG）。</p>
                    
                    <div class="concept-box">
                        <h3>调制掺杂的基本原理</h3>
                        <p>调制掺杂的核心思想是将施主杂质和导电沟道分离：</p>
                        <ol>
                            <li>在宽带隙材料（如AlGaAs）中掺杂施主杂质（如Si）</li>
                            <li>施主杂质电离产生的电子通过能带偏移转移到窄带隙材料（如GaAs）的导带中</li>
                            <li>电子被限制在异质结界面附近，形成二维电子气（2DEG）</li>
                            <li>由于杂质原子与导电电子在空间上分离，减少了杂质散射，电子迁移率显著提高</li>
                        </ol>
                    </div>

                    <div class="diagram-container">
                        <h3>调制掺杂结构与2DEG形成示意图</h3>
                        <div class="modulation-doping-diagram">
                            <div class="modulation-layer algaas">
                                <div class="layer-label">AlGaAs（掺杂Si）</div>
                                <div class="donor-atoms">施主原子 (Si⁺)</div>
                            </div>
                            <div class="modulation-interface">
                                <div class="interface-label">异质结界面</div>
                                <div class="2deg">2DEG（电子气）</div>
                            </div>
                            <div class="modulation-layer gaas">
                                <div class="layer-label">GaAs（本征）</div>
                            </div>
                        </div>
                    </div>

                    <div class="interactive-container">
                        <h3>2DEG迁移率模拟器</h3>
                        <div class="simulator-container">
                            <div class="controls">
                                <div class="control-group">
                                    <label for="doping-concentration">掺杂浓度 (cm⁻³)</label>
                                    <input type="range" id="doping-concentration" min="1e16" max="1e19" step="1e16" value="5e17">
                                    <span id="doping-value">5.0e+17 cm⁻³</span>
                                </div>
                                <div class="control-group">
                                    <label for="temperature">温度 (K)</label>
                                    <input type="range" id="temperature" min="77" max="300" step="10" value="300">
                                    <span id="temp-value">300 K</span>
                                </div>
                                <div class="control-group">
                                    <label for="well-width">量子阱宽度 (nm)</label>
                                    <input type="range" id="well-width" min="5" max="50" step="5" value="20">
                                    <span id="well-value">20 nm</span>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="mobility-chart"></canvas>
                            </div>
                            <div class="result-display">
                                <div class="result-item">
                                    <span class="result-label">电子迁移率</span>
                                    <span class="result-value" id="mobility-value">8000 cm²/V·s</span>
                                </div>
                                <div class="result-item">
                                    <span class="result-label">2DEG浓度</span>
                                    <span class="result-value" id="2deg-concentration">1.0e+12 cm⁻²</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="concept-box">
                        <h3>高电子迁移率晶体管（HEMT）</h3>
                        <p>HEMT是基于调制掺杂和二维电子气原理的场效应晶体管，具有极高的开关速度和频率特性。</p>
                        
                        <div class="hemt-structure">
                            <h4>HEMT结构特点</h4>
                            <ul>
                                <li>利用2DEG作为导电沟道，迁移率比普通MOSFET高1-2个数量级</li>
                                <li>栅极直接控制2DEG浓度，响应速度快</li>
                                <li>适合高频、高速应用</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="strain-engineering">
                    <h2>9.3 应变工程</h2>
                    <p>应变工程是通过引入应力来改变半导体材料的能带结构，从而提高载流子迁移率和器件性能的技术。</p>
                    
                    <div class="concept-box">
                        <h3>应变的分类</h3>
                        <ul>
                            <li><strong>按应力方向分类</strong>：纵向应变、横向应变</li>
                            <li><strong>按应变类型分类</strong>：张应变（材料被拉伸）、压应变（材料被压缩）</li>
                            <li><strong>按引入方式分类</strong>：衬底诱导应变（如SiGe衬底上的Si）、工艺诱导应变（如STI应力、接触孔应力）</li>
                        </ul>
                    </div>

                    <div class="concept-box">
                        <h3>应变对能带结构的影响</h3>
                        <p>应变会改变半导体的晶格常数，进而影响能带结构：</p>
                        <ul>
                            <li><strong>压应变</strong>：在Si中，压应变会降低重空穴带顶，增加轻空穴的迁移率；在GaAs中，压应变会分裂导带，降低电子有效质量</li>
                            <li><strong>张应变</strong>：在Si中，张应变会分裂导带，降低电子有效质量，提高电子迁移率</li>
                        </ul>
                    </div>

                    <div class="interactive-container">
                        <h3>应变效应对迁移率的影响</h3>
                        <div class="simulator-container">
                            <div class="controls">
                                <div class="control-group">
                                    <label for="strain-type">应变类型</label>
                                    <select id="strain-type">
                                        <option value="compressive">压应变</option>
                                        <option value="tensile">张应变</option>
                                    </select>
                                </div>
                                <div class="control-group">
                                    <label for="strain-magnitude">应变大小 (%)</label>
                                    <input type="range" id="strain-magnitude" min="0" max="2" step="0.1" value="0.5">
                                    <span id="strain-value">0.5%</span>
                                </div>
                                <div class="control-group">
                                    <label for="carrier-type">载流子类型</label>
                                    <select id="carrier-type">
                                        <option value="electron">电子</option>
                                        <option value="hole">空穴</option>
                                    </select>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="strain-mobility-chart"></canvas>
                            </div>
                            <div class="result-display">
                                <div class="result-item">
                                    <span class="result-label">迁移率提升</span>
                                    <span class="result-value" id="mobility-improvement">35%</span>
                                </div>
                                <div class="result-item">
                                    <span class="result-label">有效质量变化</span>
                                    <span class="result-value" id="effective-mass-change">-12%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="case-study">
                        <h3>案例：应变硅技术</h3>
                        <p>应变硅技术是现代CMOS工艺中的重要技术，通过在Si沟道中引入应变，提高载流子迁移率，从而提升器件性能。</p>
                        <div class="strain-si-diagram">
                            <div class="strain-layer si">
                                <div class="layer-label">应变Si沟道</div>
                            </div>
                            <div class="strain-layer sige">
                                <div class="layer-label">SiGe应变源</div>
                            </div>
                            <div class="strain-layer substrate">
                                <div class="layer-label">Si衬底</div>
                            </div>
                        </div>
                        <ul>
                            <li><strong>技术优势</strong>：无需改变基本工艺，与现有CMOS工艺兼容，显著提高器件速度</li>
                            <li><strong>应用</strong>：现代高性能处理器、移动处理器、高速逻辑电路</li>
                        </ul>
                    </div>
                </section>

                <section class="artificial-microstructures">
                    <h2>9.4 人工微结构</h2>
                    <p>人工微结构是通过人工方法制备的具有纳米级尺寸的半导体结构，包括超晶格、量子阱、量子线和量子点等。</p>
                    
                    <div class="microstructure-grid">
                        <div class="microstructure-card">
                            <h3>1. 量子阱</h3>
                            <div class="microstructure-description">
                                <p>量子阱是由两种不同半导体材料交替生长形成的三明治结构，其中窄带隙材料被限制在两个宽带隙材料之间，载流子在一维方向上被限制。</p>
                                <p><strong>特点</strong>：量子限制效应显著，能级离散化，发光效率高</p>
                                <p><strong>应用</strong>：LED、半导体激光器、量子阱晶体管</p>
                            </div>
                        </div>
                        
                        <div class="microstructure-card">
                            <h3>2. 超晶格</h3>
                            <div class="microstructure-description">
                                <p>超晶格是由两种或多种半导体材料周期性交替生长形成的结构，周期通常为几个到几十个原子层厚。</p>
                                <p><strong>特点</strong>：形成新的能带结构（迷你带），量子隧穿效应显著</p>
                                <p><strong>应用</strong>：高速电子器件、红外探测器、量子 cascade 激光器</p>
                            </div>
                        </div>
                        
                        <div class="microstructure-card">
                            <h3>3. 量子线</h3>
                            <div class="microstructure-description">
                                <p>量子线是载流子在二维方向上被限制的结构，通常为纳米级的线或棒状结构。</p>
                                <p><strong>特点</strong>：更高的量子限制效应，电子态密度呈台阶状</p>
                                <p><strong>应用</strong>：纳米线晶体管、量子线激光器、传感器</p>
                            </div>
                        </div>
                        
                        <div class="microstructure-card">
                            <h3>4. 量子点</h3>
                            <div class="microstructure-description">
                                <p>量子点是载流子在三维方向上被限制的零维结构，尺寸通常为几到几十纳米。</p>
                                <p><strong>特点</strong>：完全离散的能级，类似原子的特性，发光效率极高</p>
                                <p><strong>应用</strong>：量子点LED、量子点太阳能电池、单电子晶体管、量子计算</p>
                            </div>
                        </div>
                    </div>

                    <div class="interactive-container">
                        <h3>量子阱能级模拟器</h3>
                        <div class="simulator-container">
                            <div class="controls">
                                <div class="control-group">
                                    <label for="well-width">量子阱宽度 (nm)</label>
                                    <input type="range" id="well-width" min="2" max="50" step="1" value="10">
                                    <span id="well-width-value">10 nm</span>
                                </div>
                                <div class="control-group">
                                    <label for="barrier-height">势垒高度 (eV)</label>
                                    <input type="range" id="barrier-height" min="0.1" max="1.0" step="0.05" value="0.3">
                                    <span id="barrier-value">0.3 eV</span>
                                </div>
                                <div class="control-group">
                                    <label for="carrier-type">载流子类型</label>
                                    <select id="carrier-type">
                                        <option value="electron">电子</option>
                                        <option value="hole">空穴</option>
                                    </select>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="quantum-well-chart"></canvas>
                            </div>
                            <div class="energy-levels" id="energy-levels">
                                <!-- 能级将通过JavaScript动态生成 -->
                            </div>
                        </div>
                    </div>
                </section>

                <section class="summary">
                    <h2>本章小结</h2>
                    <p>本章详细介绍了异质结与能带调控的相关内容，包括：</p>
                    
                    <ul>
                        <li>异质结的基本概念和分类</li>
                        <li>异质结的三种能带对齐类型（I型、II型、III型）及其应用</li>
                        <li>调制掺杂技术的原理和二维电子气（2DEG）的形成机制</li>
                        <li>应变工程的基本原理和应变对能带结构的影响</li>
                        <li>人工微结构（量子阱、超晶格、量子线、量子点）的特性和应用</li>
                    </ul>
                    
                    <p>异质结与能带调控技术是现代高性能半导体器件的重要基础，通过这些技术可以实现更灵活的能带结构设计，提高载流子迁移率，改善器件性能。随着纳米技术的发展，异质结和人工微结构在新一代半导体器件中的应用将更加广泛。</p>
                </section>
            </div>

            <section class="next-chapter">
                <h2>下一章预告</h2>
                <p>第10章将深入探讨金属-氧化物-半导体场效应晶体管（MOSFET），包括其基本工作原理、I-V特性、短沟道效应以及先进MOSFET结构等内容。</p>
                <a href="chapter10.html" class="btn btn-primary">前往第10章</a>
            </section>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2023 SEMI_PROJ. 半导体器件与制造技术交互式指南</p>
        </div>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="../js/main.js"></script>
    <script>
        // 异质结能带对齐演示
        const material1 = document.getElementById('material1');
        const material2 = document.getElementById('material2');
        const alignmentType = document.getElementById('alignment-type');
        const heteroBandDiagram = document.getElementById('hetero-band-diagram');
        
        function updateHeteroBandDiagram() {
            // 简化的能带图生成
            heteroBandDiagram.innerHTML = `
                <div class="band-region material1">
                    <div class="band-label">${material1.options[material1.selectedIndex].text}</div>
                    <div class="valence-band">价带</div>
                    <div class="conduction-band">导带</div>
                </div>
                <div class="band-interface">
                    <div class="interface-label">异质结界面</div>
                </div>
                <div class="band-region material2">
                    <div class="band-label">${material2.options[material2.selectedIndex].text}</div>
                    <div class="valence-band">价带</div>
                    <div class="conduction-band">导带</div>
                </div>
            `;
            
            // 根据对齐类型调整样式
            const material1Band = heteroBandDiagram.querySelector('.material1');
            const material2Band = heteroBandDiagram.querySelector('.material2');
            
            switch(alignmentType.value) {
                case 'type1':
                    material1Band.classList.add('type1');
                    material2Band.classList.add('type1');
                    break;
                case 'type2':
                    material1Band.classList.add('type2');
                    material2Band.classList.add('type2');
                    break;
                case 'type3':
                    material1Band.classList.add('type3');
                    material2Band.classList.add('type3');
                    break;
            }
        }
        
        material1.addEventListener('change', updateHeteroBandDiagram);
        material2.addEventListener('change', updateHeteroBandDiagram);
        alignmentType.addEventListener('change', updateHeteroBandDiagram);
        
        // 初始化能带图
        updateHeteroBandDiagram();
        
        // 2DEG迁移率模拟器
        const dopingConcentration = document.getElementById('doping-concentration');
        const dopingValue = document.getElementById('doping-value');
        const temperature = document.getElementById('temperature');
        const tempValue = document.getElementById('temp-value');
        const wellWidth = document.getElementById('well-width');
        const wellValue = document.getElementById('well-value');
        const mobilityValue = document.getElementById('mobility-value');
        const degConcentration = document.getElementById('2deg-concentration');
        const mobilityChartCanvas = document.getElementById('mobility-chart').getContext('2d');
        
        let mobilityChart = new Chart(mobilityChartCanvas, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: '电子迁移率 (cm²/V·s)',
                    data: [],
                    borderColor: '#3498db',
                    backgroundColor: 'rgba(52, 152, 219, 0.1)',
                    fill: true,
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: '温度 (K)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: '迁移率 (cm²/V·s)'
                        }
                    }
                }
            }
        });
        
        function updateMobilitySimulator() {
            const doping = parseFloat(dopingConcentration.value);
            const temp = parseFloat(temperature.value);
            const width = parseFloat(wellWidth.value);
            
            dopingValue.textContent = doping.toExponential() + ' cm⁻³';
            tempValue.textContent = temp + ' K';
            wellValue.textContent = width + ' nm';
            
            // 简化的迁移率模型
            const mobility = (80000 * Math.exp(-temp / 1000) / (1 + doping / 1e18)) * (1 - width / 100);
            const concentration = doping * 0.1;
            
            mobilityValue.textContent = Math.round(mobility) + ' cm²/V·s';
            degConcentration.textContent = concentration.toExponential() + ' cm⁻²';
            
            // 更新图表
            const temps = [];
            const mobilities = [];
            for (let t = 77; t <= 300; t += 10) {
                temps.push(t);
                mobilities.push(80000 * Math.exp(-t / 1000) / (1 + doping / 1e18)) * (1 - width / 100);
            }
            
            mobilityChart.data.labels = temps;
            mobilityChart.data.datasets[0].data = mobilities;
            mobilityChart.update();
        }
        
        dopingConcentration.addEventListener('input', updateMobilitySimulator);
        temperature.addEventListener('input', updateMobilitySimulator);
        wellWidth.addEventListener('input', updateMobilitySimulator);
        
        // 初始化模拟器
        updateMobilitySimulator();
        
        // 应变效应对迁移率的影响模拟器
        const strainType = document.getElementById('strain-type');
        const strainMagnitude = document.getElementById('strain-magnitude');
        const strainValue = document.getElementById('strain-value');
        const carrierType = document.getElementById('carrier-type');
        const mobilityImprovement = document.getElementById('mobility-improvement');
        const effectiveMassChange = document.getElementById('effective-mass-change');
        const strainMobilityChartCanvas = document.getElementById('strain-mobility-chart').getContext('2d');
        
        let strainMobilityChart = new Chart(strainMobilityChartCanvas, {
            type: 'bar',
            data: {
                labels: ['无应变', '应变'],
                datasets: [{
                    label: '载流子迁移率 (cm²/V·s)',
                    data: [1350, 1820],
                    backgroundColor: ['#95a5a6', '#3498db'],
                    borderColor: ['#7f8c8d', '#2980b9'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: '迁移率 (cm²/V·s)'
                        }
                    }
                }
            }
        });
        
        function updateStrainSimulator() {
            const strain = parseFloat(strainMagnitude.value);
            strainValue.textContent = strain + '%';
            
            // 简化的迁移率提升模型
            let improvement, massChange;
            if (carrierType.value === 'electron') {
                if (strainType.value === 'tensile') {
                    improvement = strain * 30; // 张应变对电子迁移率提升较大
                    massChange = -strain * 8; // 有效质量降低
                } else {
                    improvement = strain * 10; // 压应变对电子迁移率提升较小
                    massChange = -strain * 3; // 有效质量降低较小
                }
            } else {
                if (strainType.value === 'compressive') {
                    improvement = strain * 25; // 压应变对空穴迁移率提升较大
                    massChange = -strain * 6; // 有效质量降低
                } else {
                    improvement = strain * 5; // 张应变对空穴迁移率提升较小
                    massChange = -strain * 2; // 有效质量降低较小
                }
            }
            
            mobilityImprovement.textContent = improvement.toFixed(0) + '%';
            effectiveMassChange.textContent = massChange.toFixed(0) + '%';
            
            // 更新图表
            const baseMobility = carrierType.value === 'electron' ? 1350 : 450;
            const strainedMobility = baseMobility * (1 + improvement / 100);
            
            strainMobilityChart.data.datasets[0].data = [baseMobility, strainedMobility];
            strainMobilityChart.update();
        }
        
        strainType.addEventListener('change', updateStrainSimulator);
        strainMagnitude.addEventListener('input', updateStrainSimulator);
        carrierType.addEventListener('change', updateStrainSimulator);
        
        // 初始化应变模拟器
        updateStrainSimulator();
        
        // 量子阱能级模拟器
        const wellWidthSlider = document.getElementById('well-width');
        const wellWidthValue = document.getElementById('well-width-value');
        const barrierHeight = document.getElementById('barrier-height');
        const barrierValue = document.getElementById('barrier-value');
        const quantumWellCarrier = document.getElementById('carrier-type');
        const energyLevels = document.getElementById('energy-levels');
        const quantumWellChartCanvas = document.getElementById('quantum-well-chart').getContext('2d');
        
        let quantumWellChart = new Chart(quantumWellChartCanvas, {
            type: 'line',
            data: {
                labels: [],
                datasets: [{
                    label: '势阱能量',
                    data: [],
                    borderColor: '#e74c3c',
                    backgroundColor: 'rgba(231, 76, 60, 0.1)',
                    fill: true,
                    tension: 0.1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: '位置 (nm)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: '能量 (eV)'
                        }
                    }
                }
            }
        });
        
        function updateQuantumWellSimulator() {
            const width = parseFloat(wellWidthSlider.value);
            const barrier = parseFloat(barrierHeight.value);
            
            wellWidthValue.textContent = width + ' nm';
            barrierValue.textContent = barrier + ' eV';
            
            // 简化的量子阱能级计算
            const m0 = 9.109e-31; // 电子静止质量
            const hBar = 1.0545718e-34; // 约化普朗克常数
            const effectiveMass = quantumWellCarrier.value === 'electron' ? 0.067 * m0 : 0.5 * m0;
            
            // 生成势阱形状数据
            const positions = [];
            const energies = [];
            for (let x = -width; x <= width; x += 0.5) {
                positions.push(x);
                if (Math.abs(x) < width / 2) {
                    energies.push(0); // 势阱内能量为0
                } else {
                    energies.push(barrier); // 势垒能量
                }
            }
            
            quantumWellChart.data.labels = positions;
            quantumWellChart.data.datasets[0].data = energies;
            quantumWellChart.update();
            
            // 计算能级
            const levels = [];
            const maxLevels = Math.floor(Math.sqrt((2 * effectiveMass * barrier * Math.pow(width * 1e-9, 2)) / (Math.pow(Math.PI * hBar, 2)))) + 1;
            
            for (let n = 1; n < maxLevels; n++) {
                const energy = (Math.pow(Math.PI * hBar * n, 2)) / (2 * effectiveMass * Math.pow(width * 1e-9, 2));
                levels.push(energy / 1.602e-19); // 转换为eV
            }
            
            // 显示能级
            energyLevels.innerHTML = '<h4>量子能级 (eV)</h4>';
            levels.forEach((level, index) => {
                const levelDiv = document.createElement('div');
                levelDiv.className = 'energy-level-item';
                levelDiv.innerHTML = `E${index+1}: ${level.toFixed(3)} eV`;
                energyLevels.appendChild(levelDiv);
            });
        }
        
        wellWidthSlider.addEventListener('input', updateQuantumWellSimulator);
        barrierHeight.addEventListener('input', updateQuantumWellSimulator);
        quantumWellCarrier.addEventListener('change', updateQuantumWellSimulator);
        
        // 初始化量子阱模拟器
        updateQuantumWellSimulator();
    </script>
</body>
</html>