<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬2ç« ï¼šåŠå¯¼ä½“ææ–™åŸºç¡€ - SEMI_PROJ</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/chapter-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="../js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .chapter-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .chapter-core {
            background-color: #f8f9fa;
            border-left: 4px solid var(--primary-color);
            padding: 1.5rem;
            margin-bottom: 2rem;
            border-radius: 0 8px 8px 0;
        }
        
        .section {
            margin-bottom: 3rem;
        }
        
        .section h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-color);
        }
        
        .subsection {
            margin-bottom: 2rem;
        }
        
        .subsection h4 {
            margin-bottom: 1rem;
            color: var(--dark-color);
        }
        
        .interactive-link {
            color: var(--primary-color);
            cursor: pointer;
            text-decoration: underline;
            font-weight: 500;
        }
        
        .interactive-link:hover {
            color: var(--secondary-color);
        }
        
        /* ææ–™æ¢ç´¢æ¸¸æˆæ ·å¼ */
        .material-explorer {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .material-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .material-card {
            flex: 1;
            min-width: 200px;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .material-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }
        
        .material-card.selected {
            border-color: var(--primary-color);
            background: rgba(0,123,255,0.1);
        }
        
        .material-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }
        
        .material-name {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .material-formula {
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            color: var(--secondary-color);
        }
        
        .material-properties {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .property-card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .property-title {
            font-weight: bold;
            margin-bottom: 1rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
        }
        
        .property-title i {
            margin-right: 0.5rem;
        }
        
        .property-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .property-unit {
            color: #666;
            font-size: 0.9rem;
        }
        
        .property-description {
            margin-top: 0.5rem;
            color: #555;
        }
        
        /* æºæ‚æ¨¡æ‹Ÿå™¨æ ·å¼ */
        .doping-simulator {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .simulator-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .control-group {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
        }
        
        .control-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .control-input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .slider-container {
            margin-top: 0.5rem;
        }
        
        .slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
        }
        
        .slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
            border: none;
        }
        
        .slider-value {
            display: inline-block;
            margin-left: 0.5rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .visualization-area {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .crystal-structure {
            position: relative;
            width: 100%;
            height: 300px;
        }
        
        .atom {
            position: absolute;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .silicon-atom {
            background: #3498db;
            width: 40px;
            height: 40px;
        }
        
        .dopant-atom {
            background: #e74c3c;
            width: 36px;
            height: 36px;
        }
        
        .electron {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #f1c40f;
            border-radius: 50%;
            animation: electronMove 3s infinite linear;
        }
        
        @keyframes electronMove {
            0% { transform: translate(0, 0); }
            25% { transform: translate(20px, -10px); }
            50% { transform: translate(40px, 0); }
            75% { transform: translate(20px, 10px); }
            100% { transform: translate(0, 0); }
        }
        
        .results-panel {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-label {
            font-weight: 500;
        }
        
        .result-value {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        /* èƒ½å¸¦å›¾æ ·å¼ */
        .band-diagram {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .diagram-container {
            position: relative;
            height: 300px;
            margin: 2rem 0;
            background: #f8f9fa;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .energy-level {
            position: absolute;
            left: 0;
            right: 0;
            height: 2px;
            background: #333;
        }
        
        .conduction-band {
            top: 30%;
            background: #3498db;
        }
        
        .valence-band {
            top: 70%;
            background: #e74c3c;
        }
        
        .fermi-level {
            top: 50%;
            background: #2ecc71;
            height: 3px;
        }
        
        .band-label {
            position: absolute;
            right: 10px;
            transform: translateY(-50%);
            background: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .electron-transition {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #f1c40f;
            border-radius: 50%;
            animation: electronTransition 4s infinite;
        }
        
        @keyframes electronTransition {
            0% { top: 70%; opacity: 1; }
            50% { top: 30%; opacity: 1; }
            100% { top: 70%; opacity: 1; }
        }
        
        /* è¿›åº¦æŒ‡ç¤ºå™¨æ ·å¼ */
        .progress-indicator {
            font-size: 12px;
            background: var(--primary-color);
            color: white;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 8px;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .chapter-container {
                padding: 1rem;
            }
            
            .material-selector {
                flex-direction: column;
            }
            
            .simulator-controls {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>SEMI_PROJ</h1>
                <p>åŠå¯¼ä½“å™¨ä»¶ä¸åˆ¶é€ æŠ€æœ¯äº¤äº’å¼æŒ‡å—</p>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="../index.html" class="nav-link">é¦–é¡µ</a></li>
                    <li><a href="#" class="nav-link active">ç¬¬2ç« </a></li>
                </ul>
            </nav>
            <div class="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>
    
    <!-- å·¦ä¾§èœå•ç›®å½• -->
    <aside class="sidebar">
            <button class="sidebar-toggle">
                <i class="fas fa-chevron-left"></i>
            </button>
            
            <div class="sidebar-content">
                <div class="sidebar-header">
                    <h3>ç« èŠ‚å¯¼èˆª</h3>
                    <button class="sidebar-hide-btn" title="éšè—ä¾§è¾¹æ ">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            <nav class="chapter-nav">
                <a href="../index.html" class="chapter-nav-item">
                    <i class="fas fa-home"></i> è¿”å›ä¸»é¡µ
                </a>
                
                <a href="chapter1.html" class="chapter-nav-item ">
                    ç¬¬1ç« ï¼šåŠå¯¼ä½“è¡Œä¸šä¸æŠ€æœ¯æ¼”è¿›
                </a>
                <a href="chapter2.html" class="chapter-nav-item active">
                    ç¬¬2ç« ï¼šåŠå¯¼ä½“ææ–™åŸºç¡€
                </a>
                <a href="chapter3.html" class="chapter-nav-item ">
                    ç¬¬3ç« ï¼šåŸºç¡€åŠå¯¼ä½“å™¨ä»¶
                </a>
                <a href="chapter4.html" class="chapter-nav-item ">
                    ç¬¬4ç« ï¼šMOSFETæ ¸å¿ƒæŠ€æœ¯
                </a>
                <a href="chapter5.html" class="chapter-nav-item ">
                    ç¬¬5ç« ï¼šæ•°å­—é›†æˆå™¨ä»¶
                </a>
                <a href="chapter6.html" class="chapter-nav-item ">
                    ç¬¬6ç« ï¼šæ¨¡æ‹Ÿé›†æˆå™¨ä»¶
                </a>
                <a href="chapter7.html" class="chapter-nav-item ">
                    ç¬¬7ç« ï¼šç‰¹æ®ŠåŠŸèƒ½å™¨ä»¶
                </a>
                <a href="chapter8.html" class="chapter-nav-item ">
                    ç¬¬8ç« ï¼šè¡¬åº•ä¸æ™¶åœ†åˆ¶å¤‡
                </a>
                <a href="chapter9.html" class="chapter-nav-item ">
                    ç¬¬9ç« ï¼šå™¨ä»¶å›¾å½¢åŒ–å·¥è‰º
                </a>
                <a href="chapter10.html" class="chapter-nav-item ">
                    ç¬¬10ç« ï¼šå™¨ä»¶æºæ‚ä¸è–„è†œå·¥è‰º
                </a>
                <a href="chapter11.html" class="chapter-nav-item ">
                    ç¬¬11ç« ï¼šå™¨ä»¶äº’è¿ä¸å°è£…
                </a>
                <a href="chapter12.html" class="chapter-nav-item ">
                    ç¬¬12ç« ï¼šçº³ç±³å°ºåº¦å™¨ä»¶æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ
                </a>
                <a href="chapter13.html" class="chapter-nav-item ">
                    ç¬¬13ç« ï¼šå®½ç¦å¸¦åŠå¯¼ä½“å™¨ä»¶
                </a>
                <a href="chapter14.html" class="chapter-nav-item ">
                    ç¬¬14ç« ï¼šåæ‘©å°”æ—¶ä»£å™¨ä»¶æŠ€æœ¯
                </a>
                <a href="chapter15.html" class="chapter-nav-item ">
                    ç¬¬15ç« ï¼šå™¨ä»¶è®¾è®¡ä¸ä»¿çœŸå·¥å…·
                </a>
                <a href="chapter16.html" class="chapter-nav-item ">
                    ç¬¬16ç« ï¼šæ•…éšœæ’æŸ¥ä¸æµ‹è¯•æŠ€æœ¯
                </a>
                <a href="chapter17.html" class="chapter-nav-item ">
                    ç¬¬17ç« ï¼šè¡Œä¸šèµ„æºæ±‡æ€»
                </a>
            </nav>
            
            
                <div class="current-chapter-nav">
                    <h4>å½“å‰ç« èŠ‚</h4>
                    <nav class="section-nav">

                    <a href="#material-explorer" class="section-nav-item">
                        ææ–™æ¢ç´¢
                    </a>
                    <a href="#doping-simulator" class="section-nav-item">
                        æºæ‚æ¨¡æ‹Ÿå™¨
                    </a>
                    <a href="#band-diagram" class="section-nav-item">
                        èƒ½å¸¦å›¾
                    </a>
                    <a href="#chapter-summary" class="section-nav-item">
                        æœ¬ç« å°ç»“
                    </a>
                    </nav>
                </div>
        </div>
    </aside>
    

    <main class="main-content">
        <div class="chapter-container">
            <div class="breadcrumb">
                <p><a href="../index.html">é¦–é¡µ</a> &gt; <a href="../index.html#basics">åŸºç¡€åŸç†</a> &gt; ç¬¬2ç« ï¼šåŠå¯¼ä½“ææ–™åŸºç¡€</p>
            </div>
        <div class="chapter-header">
            <h1>ç¬¬2ç« ï¼šåŠå¯¼ä½“ææ–™åŸºç¡€</h1>
        </div>
        
        <div class="chapter-core">
            <h3>æœ¬ç« æ ¸å¿ƒ</h3>
            <p>åŠå¯¼ä½“ææ–™æ˜¯ç°ä»£ç”µå­æŠ€æœ¯çš„åŸºçŸ³ï¼Œç†è§£å…¶ç‰©ç†ç‰¹æ€§æ˜¯æŒæ¡åŠå¯¼ä½“å™¨ä»¶çš„åŸºç¡€ã€‚æœ¬ç« å°†æ·±å…¥æ¢è®¨åŠå¯¼ä½“ææ–™çš„æ™¶ä½“ç»“æ„ã€èƒ½å¸¦ç†è®ºã€è½½æµå­è¡Œä¸ºä»¥åŠæºæ‚æœºåˆ¶ï¼Œé€šè¿‡äº¤äº’å¼å·¥å…·å¸®åŠ©æ‚¨ç›´è§‚ç†è§£åŠå¯¼ä½“ææ–™çš„æ ¸å¿ƒç‰¹æ€§ã€‚</p>
        </div>
        
        <!-- ææ–™æ¢ç´¢æ¸¸æˆ -->
        <div class="material-explorer">
            <h2>ğŸ”¬ ææ–™æ¢ç´¢ï¼šåŠå¯¼ä½“ææ–™ç‰¹æ€§å¯¹æ¯” <span class="progress-indicator" id="material-progress">0/0</span></h2>
            <p>é€‰æ‹©ä¸åŒçš„åŠå¯¼ä½“ææ–™ï¼Œæ¢ç´¢å®ƒä»¬çš„ç‰©ç†ç‰¹æ€§ã€æ™¶ä½“ç»“æ„å’Œåº”ç”¨é¢†åŸŸã€‚</p>
            
            <div class="material-selector">
                <div class="material-card" onclick="selectMaterial('silicon')">
                    <div class="material-icon">ğŸª¨</div>
                    <div class="material-name">ç¡…</div>
                    <div class="material-formula">Si</div>
                </div>
                
                <div class="material-card" onclick="selectMaterial('germanium')">
                    <div class="material-icon">ğŸ’</div>
                    <div class="material-name">é”—</div>
                    <div class="material-formula">Ge</div>
                </div>
                
                <div class="material-card" onclick="selectMaterial('gallium')">
                    <div class="material-icon">âš¡</div>
                    <div class="material-name">ç ·åŒ–é•“</div>
                    <div class="material-formula">GaAs</div>
                </div>
                
                <div class="material-card" onclick="selectMaterial('carbide')">
                    <div class="material-icon">ğŸ”¥</div>
                    <div class="material-name">ç¢³åŒ–ç¡…</div>
                    <div class="material-formula">SiC</div>
                </div>
            </div>
            
            <div id="material-properties" class="material-properties">
                <div class="property-card">
                    <div class="property-title">
                        <i class="fas fa-atom"></i> ç¦å¸¦å®½åº¦
                    </div>
                    <div class="property-value" id="bandgap-value">-</div>
                    <div class="property-unit">eV</div>
                    <div class="property-description">ç¦å¸¦å®½åº¦å†³å®šäº†åŠå¯¼ä½“ææ–™çš„å¯¼ç”µæ€§å’Œå·¥ä½œæ¸©åº¦èŒƒå›´</div>
                </div>
                
                <div class="property-card">
                    <div class="property-title">
                        <i class="fas fa-bolt"></i> ç”µå­è¿ç§»ç‡
                    </div>
                    <div class="property-value" id="mobility-value">-</div>
                    <div class="property-unit">cmÂ²/VÂ·s</div>
                    <div class="property-description">ç”µå­è¿ç§»ç‡å½±å“å™¨ä»¶çš„å¼€å…³é€Ÿåº¦å’Œé¢‘ç‡ç‰¹æ€§</div>
                </div>
                
                <div class="property-card">
                    <div class="property-title">
                        <i class="fas fa-thermometer-half"></i> çƒ­å¯¼ç‡
                    </div>
                    <div class="property-value" id="thermal-value">-</div>
                    <div class="property-unit">W/mÂ·K</div>
                    <div class="property-description">çƒ­å¯¼ç‡å†³å®šäº†ææ–™çš„æ•£çƒ­èƒ½åŠ›</div>
                </div>
                
                <div class="property-card">
                    <div class="property-title">
                        <i class="fas fa-industry"></i> ä¸»è¦åº”ç”¨
                    </div>
                    <div class="property-value" id="application-value">-</div>
                    <div class="property-description">è¯¥ææ–™åœ¨åŠå¯¼ä½“å·¥ä¸šä¸­çš„ä¸»è¦åº”ç”¨é¢†åŸŸ</div>
                </div>
            </div>
        </div>
        
        <!-- æºæ‚æ¨¡æ‹Ÿå™¨ -->
        <div class="doping-simulator">
            <h2>âš—ï¸ æºæ‚æ¨¡æ‹Ÿå™¨ï¼šæ”¹å˜ææ–™å¯¼ç”µæ€§ <span class="progress-indicator" id="doping-progress">0/0</span></h2>
            <p>é€šè¿‡è°ƒæ•´æºæ‚ç±»å‹å’Œæµ“åº¦ï¼Œè§‚å¯ŸåŠå¯¼ä½“ææ–™å¯¼ç”µæ€§çš„å˜åŒ–ã€‚</p>
            
            <div class="simulator-controls">
                <div class="control-group">
                    <label class="control-label">æºæ‚ç±»å‹</label>
                    <select class="control-input" id="doping-type" onchange="updateDopingSimulation()">
                        <option value="none">æœ¬å¾åŠå¯¼ä½“</option>
                        <option value="n-type">Nå‹æºæ‚ï¼ˆæ–½ä¸»ï¼‰</option>
                        <option value="p-type">På‹æºæ‚ï¼ˆå—ä¸»ï¼‰</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label class="control-label">æºæ‚æµ“åº¦</label>
                    <div class="slider-container">
                        <input type="range" class="slider" id="doping-concentration" min="13" max="20" value="15" step="0.1" oninput="updateDopingSimulation()">
                        <span class="slider-value" id="concentration-value">10Â¹âµ cmâ»Â³</span>
                    </div>
                </div>
                
                <div class="control-group">
                    <label class="control-label">æ¸©åº¦</label>
                    <div class="slider-container">
                        <input type="range" class="slider" id="temperature" min="200" max="500" value="300" step="10" oninput="updateDopingSimulation()">
                        <span class="slider-value" id="temperature-value">300 K</span>
                    </div>
                </div>
            </div>
            
            <div class="visualization-area">
                <div class="crystal-structure" id="crystal-structure">
                    <!-- åŠ¨æ€ç”Ÿæˆçš„æ™¶ä½“ç»“æ„ -->
                </div>
            </div>
            
            <div class="results-panel">
                <h3>ç”µå­¦ç‰¹æ€§</h3>
                <div class="result-item">
                    <span class="result-label">è½½æµå­æµ“åº¦</span>
                    <span class="result-value" id="carrier-concentration">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">ç”µå¯¼ç‡</span>
                    <span class="result-value" id="conductivity">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">ç”µé˜»ç‡</span>
                    <span class="result-value" id="resistivity">-</span>
                </div>
                <div class="result-item">
                    <span class="result-label">ä¸»è¦è½½æµå­ç±»å‹</span>
                    <span class="result-value" id="dominant-carrier">-</span>
                </div>
            </div>
        </div>
        
        <!-- èƒ½å¸¦å›¾ -->
        <div class="band-diagram">
            <h2>ğŸ“Š èƒ½å¸¦å›¾ï¼šç†è§£åŠå¯¼ä½“å¯¼ç”µæœºåˆ¶ <span class="progress-indicator" id="band-progress">0/0</span></h2>
            <p>é€šè¿‡èƒ½å¸¦å›¾ç›´è§‚ç†è§£åŠå¯¼ä½“ä¸­ç”µå­çš„èƒ½çº§åˆ†å¸ƒå’Œå¯¼ç”µæœºåˆ¶ã€‚</p>
            
            <div class="diagram-container">
                <div class="energy-level conduction-band">
                    <span class="band-label">å¯¼å¸¦ (Ec)</span>
                </div>
                <div class="energy-level valence-band">
                    <span class="band-label">ä»·å¸¦ (Ev)</span>
                </div>
                <div class="energy-level fermi-level">
                    <span class="band-label">è´¹ç±³èƒ½çº§ (Ef)</span>
                </div>
                <div class="electron-transition"></div>
            </div>
            
            <div class="simulator-controls">
                <div class="control-group">
                    <label class="control-label">ææ–™ç±»å‹</label>
                    <select class="control-input" id="band-material" onchange="updateBandDiagram()">
                        <option value="intrinsic">æœ¬å¾åŠå¯¼ä½“</option>
                        <option value="n-type">Nå‹åŠå¯¼ä½“</option>
                        <option value="p-type">På‹åŠå¯¼ä½“</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label class="control-label">æ¸©åº¦</label>
                    <div class="slider-container">
                        <input type="range" class="slider" id="band-temperature" min="0" max="500" value="300" step="10" oninput="updateBandDiagram()">
                        <span class="slider-value" id="band-temp-value">300 K</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ç« èŠ‚æ€»ç»“ -->
        <div class="section">
            <h3>æœ¬ç« å°ç»“</h3>
            <div class="subsection">
                <p>åŠå¯¼ä½“ææ–™æ˜¯ç°ä»£ç”µå­æŠ€æœ¯çš„åŸºçŸ³ï¼Œå…¶ç‹¬ç‰¹çš„ç”µå­¦ç‰¹æ€§æºäºå…¶æ™¶ä½“ç»“æ„å’Œèƒ½å¸¦ç»“æ„ã€‚ç¡…å› å…¶ä¸°å¯Œçš„èµ„æºã€ç¨³å®šçš„æ°§åŒ–ç‰©å’Œæˆç†Ÿçš„å·¥è‰ºæˆä¸ºåŠå¯¼ä½“å·¥ä¸šçš„ä¸»æµææ–™ï¼Œä½†å…¶ä»–ææ–™å¦‚ç ·åŒ–é•“ã€ç¢³åŒ–ç¡…ç­‰åœ¨ç‰¹å®šåº”ç”¨ä¸­å…·æœ‰ä¸å¯æ›¿ä»£çš„ä¼˜åŠ¿ã€‚</p>
                
                <p>æºæ‚æ˜¯æ”¹å˜åŠå¯¼ä½“å¯¼ç”µæ€§çš„å…³é”®æ‰‹æ®µï¼Œé€šè¿‡å¼•å…¥æ–½ä¸»æˆ–å—ä¸»æ‚è´¨ï¼Œå¯ä»¥ç²¾ç¡®æ§åˆ¶åŠå¯¼ä½“çš„ç”µå­¦ç‰¹æ€§ï¼Œè¿™æ˜¯åˆ¶é€ å„ç§åŠå¯¼ä½“å™¨ä»¶çš„åŸºç¡€ã€‚èƒ½å¸¦ç†è®ºå¸®åŠ©æˆ‘ä»¬ç†è§£åŠå¯¼ä½“ä¸­è½½æµå­çš„è¡Œä¸ºï¼Œæ˜¯åˆ†æåŠå¯¼ä½“å™¨ä»¶å·¥ä½œåŸç†çš„é‡è¦å·¥å…·ã€‚</p>
                
                <p>ä¸‹ä¸€ç« å°†æ·±å…¥ä»‹ç»åŠå¯¼ä½“å™¨ä»¶çš„åŸºæœ¬ç»“æ„å’Œå·¥ä½œåŸç†ï¼ŒåŒ…æ‹¬PNç»“çš„å½¢æˆæœºç†ã€äºŒæç®¡çš„æ•´æµç‰¹æ€§ä»¥åŠæ™¶ä½“ç®¡çš„æ”¾å¤§ä½œç”¨ï¼Œå¸®åŠ©æ‚¨ç†è§£å¦‚ä½•åˆ©ç”¨åŠå¯¼ä½“ææ–™çš„ç‰¹æ€§æ„å»ºå®ç”¨çš„ç”µå­å™¨ä»¶ã€‚</p>
            </div>
            
            <div class="subsection">
                <h4>ä¸‹ä¸€ç« é¢„å‘Š</h4>
                <p>ç¬¬3ç« å°†æ·±å…¥åŠå¯¼ä½“å™¨ä»¶çš„åŸºæœ¬ç»“æ„å’Œå·¥ä½œåŸç†ï¼Œå¸¦ä½ ç†è§£"PNç»“æ˜¯å¦‚ä½•å½¢æˆçš„ï¼Ÿ"ã€"äºŒæç®¡ä¸ºä»€ä¹ˆèƒ½æ•´æµï¼Ÿ"ã€"æ™¶ä½“ç®¡å¦‚ä½•å®ç°ä¿¡å·æ”¾å¤§ï¼Ÿ"ï¼Œå¹¶é€šè¿‡äº¤äº’å¼æ¨¡æ‹Ÿå™¨ç›´è§‚æ„Ÿå—å™¨ä»¶å†…éƒ¨è½½æµå­çš„è¿åŠ¨è§„å¾‹ã€‚</p>
                <button class="btn btn-primary" onclick="window.location.href='chapter3.html'">å‰å¾€ç¬¬3ç« </button>
            </div>
        </div>
    </div>
    </main>
    
    <script>
        // ææ–™æ•°æ®
        const materialData = {
            silicon: {
                name: "ç¡…",
                formula: "Si",
                bandgap: 1.12,
                mobility: 1350,
                thermal: 150,
                application: "é›†æˆç”µè·¯ã€å¤ªé˜³èƒ½ç”µæ± ã€åŠŸç‡å™¨ä»¶",
                color: "#3498db"
            },
            germanium: {
                name: "é”—",
                formula: "Ge",
                bandgap: 0.66,
                mobility: 3900,
                thermal: 60,
                application: "æ—©æœŸæ™¶ä½“ç®¡ã€é«˜é€Ÿå™¨ä»¶ã€å…‰ç”µæ¢æµ‹å™¨",
                color: "#9b59b6"
            },
            gallium: {
                name: "ç ·åŒ–é•“",
                formula: "GaAs",
                bandgap: 1.42,
                mobility: 8500,
                thermal: 46,
                application: "é«˜é¢‘å™¨ä»¶ã€å…‰ç”µå­å™¨ä»¶ã€å¾®æ³¢é›†æˆç”µè·¯",
                color: "#e74c3c"
            },
            carbide: {
                name: "ç¢³åŒ–ç¡…",
                formula: "SiC",
                bandgap: 3.26,
                mobility: 900,
                thermal: 490,
                application: "åŠŸç‡å™¨ä»¶ã€é«˜æ¸©ç”µå­ã€ç”µåŠ¨æ±½è½¦",
                color: "#f39c12"
            }
        };
        
        // é€‰ä¸­çš„ææ–™
        let selectedMaterial = null;
        
        // è¿›åº¦è·Ÿè¸ª
        let exploredMaterials = [];
        let dopingExperiments = 0;
        let bandDiagramsViewed = 0;
        
        // é€‰æ‹©ææ–™
        function selectMaterial(materialId) {
            // æ›´æ–°é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.material-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelector(`.material-card[onclick="selectMaterial('${materialId}')"]`).classList.add('selected');
            
            // æ›´æ–°é€‰ä¸­çš„ææ–™
            selectedMaterial = materialData[materialId];
            
            // æ›´æ–°ææ–™å±æ€§æ˜¾ç¤º
            updateMaterialProperties(materialId);
            
            // è®°å½•è¿›åº¦
            if (!exploredMaterials.includes(materialId)) {
                exploredMaterials.push(materialId);
                updateProgress();
            }
        }
        
        // æ›´æ–°ææ–™å±æ€§æ˜¾ç¤º
        function updateMaterialProperties(materialId) {
            const material = materialData[materialId];
            
            document.getElementById('bandgap-value').textContent = material.bandgap;
            document.getElementById('mobility-value').textContent = material.mobility;
            document.getElementById('thermal-value').textContent = material.thermal;
            document.getElementById('application-value').textContent = material.application;
            
            // æ·»åŠ åŠ¨ç”»æ•ˆæœ
            document.querySelectorAll('.property-card').forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.5s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        }
        
        // æ›´æ–°æºæ‚æ¨¡æ‹Ÿ
        function updateDopingSimulation() {
            const dopingType = document.getElementById('doping-type').value;
            const concentration = parseFloat(document.getElementById('doping-concentration').value);
            const temperature = parseInt(document.getElementById('temperature').value);
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('concentration-value').textContent = `10^${concentration} cmâ»Â³`;
            document.getElementById('temperature-value').textContent = `${temperature} K`;
            
            // ç”Ÿæˆæ™¶ä½“ç»“æ„
            generateCrystalStructure(dopingType, concentration);
            
            // è®¡ç®—ç”µå­¦ç‰¹æ€§
            calculateElectricalProperties(dopingType, concentration, temperature);
            
            // è®°å½•è¿›åº¦
            if (dopingExperiments === 0) {
                dopingExperiments = 1;
                updateProgress();
            }
        }
        
        // ç”Ÿæˆæ™¶ä½“ç»“æ„
        function generateCrystalStructure(dopingType, concentration) {
            const container = document.getElementById('crystal-structure');
            container.innerHTML = '';
            
            // åˆ›å»ºç¡…åŸå­æ™¶æ ¼
            const rows = 5;
            const cols = 8;
            const spacing = 50;
            
            for (let i = 0; i < rows; i++) {
                for (let j = 0; j < cols; j++) {
                    const atom = document.createElement('div');
                    atom.className = 'atom silicon-atom';
                    atom.style.left = `${j * spacing + 20}px`;
                    atom.style.top = `${i * spacing + 20}px`;
                    atom.textContent = 'Si';
                    container.appendChild(atom);
                }
            }
            
            // æ·»åŠ æºæ‚åŸå­
            if (dopingType !== 'none') {
                const dopantCount = Math.max(1, Math.floor((concentration - 13) / 2));
                
                for (let i = 0; i < dopantCount; i++) {
                    const row = Math.floor(Math.random() * rows);
                    const col = Math.floor(Math.random() * cols);
                    
                    const dopant = document.createElement('div');
                    dopant.className = 'atom dopant-atom';
                    dopant.style.left = `${col * spacing + 22}px`;
                    dopant.style.top = `${row * spacing + 22}px`;
                    dopant.textContent = dopingType === 'n-type' ? 'P' : 'B';
                    container.appendChild(dopant);
                }
            }
            
            // æ·»åŠ ç”µå­
            if (dopingType !== 'none') {
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        const electron = document.createElement('div');
                        electron.className = 'electron';
                        electron.style.left = `${Math.random() * (cols * spacing)}px`;
                        electron.style.top = `${Math.random() * (rows * spacing)}px`;
                        container.appendChild(electron);
                    }, i * 200);
                }
            }
        }
        
        // è®¡ç®—ç”µå­¦ç‰¹æ€§
        function calculateElectricalProperties(dopingType, concentration, temperature) {
            // ç®€åŒ–çš„è®¡ç®—æ¨¡å‹
            const k = 8.617e-5; // ç»å°”å…¹æ›¼å¸¸æ•° eV/K
            const Eg = 1.12; // ç¡…çš„ç¦å¸¦å®½åº¦ eV
            const ni = 1.5e10; // æœ¬å¾è½½æµå­æµ“åº¦ cmâ»Â³
            
            let carrierConcentration, conductivity, resistivity, dominantCarrier;
            
            if (dopingType === 'none') {
                // æœ¬å¾åŠå¯¼ä½“
                carrierConcentration = ni * Math.exp(-Eg / (2 * k * temperature));
                dominantCarrier = "ç”µå­å’Œç©ºç©´";
            } else {
                // æºæ‚åŠå¯¼ä½“
                carrierConcentration = Math.pow(10, concentration);
                dominantCarrier = dopingType === 'n-type' ? "ç”µå­" : "ç©ºç©´";
            }
            
            // è®¡ç®—ç”µå¯¼ç‡å’Œç”µé˜»ç‡
            const mobility = dopingType === 'p-type' ? 480 : 1350; // ç©ºç©´æˆ–ç”µå­è¿ç§»ç‡
            const q = 1.6e-19; // ç”µå­ç”µè·
            
            conductivity = carrierConcentration * q * mobility;
            resistivity = 1 / conductivity;
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('carrier-concentration').textContent = carrierConcentration.toExponential(2) + ' cmâ»Â³';
            document.getElementById('conductivity').textContent = conductivity.toExponential(2) + ' S/cm';
            document.getElementById('resistivity').textContent = resistivity.toExponential(2) + ' Î©Â·cm';
            document.getElementById('dominant-carrier').textContent = dominantCarrier;
        }
        
        // æ›´æ–°èƒ½å¸¦å›¾
        function updateBandDiagram() {
            const materialType = document.getElementById('band-material').value;
            const temperature = parseInt(document.getElementById('band-temperature').value);
            
            document.getElementById('band-temp-value').textContent = `${temperature} K`;
            
            // è°ƒæ•´è´¹ç±³èƒ½çº§ä½ç½®
            const fermiLevel = document.querySelector('.fermi-level');
            let fermiPosition;
            
            switch (materialType) {
                case 'intrinsic':
                    fermiPosition = 50; // ä¸­é—´ä½ç½®
                    break;
                case 'n-type':
                    fermiPosition = 35; // é è¿‘å¯¼å¸¦
                    break;
                case 'p-type':
                    fermiPosition = 65; // é è¿‘ä»·å¸¦
                    break;
            }
            
            fermiLevel.style.top = `${fermiPosition}%`;
            
            // è°ƒæ•´ç”µå­è·ƒè¿åŠ¨ç”»é€Ÿåº¦
            const electronTransition = document.querySelector('.electron-transition');
            const animationDuration = Math.max(1, 5 - temperature / 125); // æ¸©åº¦è¶Šé«˜ï¼Œè·ƒè¿è¶Šå¿«
            electronTransition.style.animationDuration = `${animationDuration}s`;
            
            // è®°å½•è¿›åº¦
            if (bandDiagramsViewed === 0) {
                bandDiagramsViewed = 1;
                updateProgress();
            }
        }
        
        // æ›´æ–°è¿›åº¦
        function updateProgress() {
            // æ›´æ–°ææ–™æ¢ç´¢è¿›åº¦
            document.getElementById('material-progress').textContent = `${exploredMaterials.length}/${Object.keys(materialData).length}`;
            
            // æ›´æ–°æºæ‚æ¨¡æ‹Ÿè¿›åº¦
            document.getElementById('doping-progress').textContent = `${dopingExperiments}/1`;
            
            // æ›´æ–°èƒ½å¸¦å›¾è¿›åº¦
            document.getElementById('band-progress').textContent = `${bandDiagramsViewed}/1`;
            
            // ä¿å­˜è¿›åº¦
            saveProgress();
        }
        
        // ä¿å­˜è¿›åº¦
        function saveProgress() {
            const progress = {
                exploredMaterials,
                dopingExperiments,
                bandDiagramsViewed,
                timestamp: Date.now()
            };
            localStorage.setItem('semiProj_chapter2_progress', JSON.stringify(progress));
        }
        
        // åŠ è½½è¿›åº¦
        function loadProgress() {
            const saved = localStorage.getItem('semiProj_chapter2_progress');
            if (saved) {
                const progress = JSON.parse(saved);
                exploredMaterials = progress.exploredMaterials || [];
                dopingExperiments = progress.dopingExperiments || 0;
                bandDiagramsViewed = progress.bandDiagramsViewed || 0;
                
                updateProgress();
            }
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();
            updateDopingSimulation();
            updateBandDiagram();
        });
    </script>
</body>
</html>